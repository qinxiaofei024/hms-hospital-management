<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»„ä»¶åº“ç®¡ç† - HMSåŒ»é™¢ç®¡ç†ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/common.css">
    <style>
        .component-library {
            width: 100%;
            min-height: calc(100vh - 48px);
            box-sizing: border-box;
        }
        .library-header {
            text-align: left;
            margin-bottom: clamp(8px, 1vh, 12px);
            padding: clamp(6px, 0.8vh, 10px) clamp(10px, 1.2vw, 16px);
            background: linear-gradient(135deg, #0078d4 0%, #005a9e 100%);
            color: white;
            border-radius: clamp(3px, 0.25vw, 6px);
            box-shadow: 0 2px 8px rgba(0, 120, 212, 0.2);
        }
        .library-header h1 {
            margin: 0 0 clamp(1px, 0.2vh, 2px) 0;
            font-size: clamp(1em, 1.5vw, 1.4em);
            font-weight: 500;
        }
        .library-header p {
            margin: 0;
            font-size: clamp(0.8em, 1vw, 1em);
            opacity: 0.9;
        }
        .library-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: clamp(12px, 1.5vw, 20px);
            margin-bottom: clamp(16px, 2vh, 20px);
        }
        .stat-card {
            background: white;
            border-radius: 8px;
            padding: clamp(12px, 1.5vh, 16px) clamp(16px, 1.5vw, 20px);
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e1e5e9;
            min-height: clamp(80px, 10vh, 100px);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .stat-number {
            font-size: clamp(1.5em, 2vw, 2.2em);
            font-weight: 600;
            color: #667eea;
            margin-bottom: clamp(4px, 0.5vh, 8px);
        }
        .stat-label {
            color: #6c757d;
            font-size: clamp(0.85em, 1.2vw, 1.1em);
            font-weight: 500;
        }
        .loading {
            text-align: center;
            padding: 30px 20px;
            color: #6c757d;
        }
        .components-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: clamp(12px, 1.5vw, 18px);
        }
        .component-card {
            background: white;
            border-radius: clamp(4px, 0.3vw, 8px);
            box-shadow: 0 1px 6px rgba(0, 0, 0, 0.1);
            padding: clamp(16px, 2vh, 24px);
            border: 1px solid #e9ecef;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            width: 100%;
            box-sizing: border-box;
            min-height: clamp(160px, 20vh, 220px);
            display: flex;
            flex-direction: column;
        }
        .component-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        }
        /* ç—…ç§æ•ˆç›Šç»„ä»¶ç‰¹æ®Šæ ·å¼ */
        .component-card[data-component-id="disease-benefit-analysis"] {
            /* ç§»é™¤ç‰¹æ®Šå®½åº¦è®¾ç½®ï¼Œä½¿ç”¨é»˜è®¤ç½‘æ ¼å¸ƒå±€ */
        }
        .component-card[data-component-id="disease-benefit-analysis"] .component-title {
            font-size: clamp(1.1em, 1.5vw, 1.4em);
            line-height: 1.2;
        }
        .component-card[data-component-id="disease-benefit-analysis"] .component-description {
            font-size: clamp(13px, 1.5vh, 15px);
            line-height: 1.6;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
        }
        .component-card[data-component-id="disease-benefit-analysis"] .component-actions {
            margin-top: auto;
            flex-wrap: nowrap;
            gap: clamp(4px, 0.8vh, 8px);
        }
        .component-card[data-component-id="disease-benefit-analysis"] .action-btn {
            padding: clamp(4px, 0.5vh, 6px) clamp(6px, 0.8vw, 10px);
            font-size: clamp(0.65em, 0.8vw, 0.75em);
            flex: 1;
            min-width: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .content-layout {
            display: flex;
            flex-direction: column;
            gap: clamp(16px, 2vh, 24px);
        }
        .controls-container {
            width: 100%;
            max-width: 600px;
        }
        .components-container {
            width: 100%;
        }
        .controls-bar {
            background: white;
            padding: clamp(8px, 1vh, 12px);
            border-radius: clamp(4px, 0.3vw, 6px);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
            margin-bottom: clamp(10px, 1.2vh, 16px);
            border: 1px solid #e9ecef;
            box-sizing: border-box;
        }
        .search-section {
            display: flex;
            align-items: center;
            gap: clamp(6px, 0.8vw, 10px);
            margin-bottom: clamp(6px, 0.8vh, 8px);
            width: 100%;
        }
        .search-input {
            flex: 1;
            padding: clamp(6px, 0.8vh, 8px) clamp(8px, 0.8vw, 12px);
            border: 1px solid #e9ecef;
            border-radius: clamp(3px, 0.2vw, 5px);
            font-size: clamp(12px, 0.9vw, 14px);
            transition: border-color 0.2s ease;
            min-width: 0;
        }
        .search-input:focus {
            outline: none;
            border-color: #667eea;
            border-color: #667eea;
        }
        .clear-btn {
            padding: 4px 8px;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
        }
        .clear-btn:hover {
            background: #5a6268;
        }
        .filters-section {
            display: flex;
            gap: clamp(6px, 0.8vw, 10px);
            flex-wrap: wrap;
            width: 100%;
        }
        .filter-select {
            padding: clamp(4px, 0.6vh, 6px) clamp(8px, 0.8vw, 10px);
            border: 1px solid #e9ecef;
            border-radius: clamp(3px, 0.2vw, 5px);
            background: white;
            font-size: clamp(11px, 0.8vw, 13px);
            cursor: pointer;
            transition: border-color 0.2s ease;
            flex: 1;
            min-width: min(100px, 100%);
        }
        .filter-select:focus {
            outline: none;
            border-color: #667eea;
        }
        .component-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }
        .component-title {
            margin: 0;
            color: #2c3e50;
            font-size: clamp(1.1em, 1.5vw, 1.4em);
            font-weight: 600;
        }
        .component-version {
            background: #667eea;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 500;
        }
        .component-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 500;
            margin-left: 8px;
        }
        .status-stable {
            background: #28a745;
            color: white;
        }
        .status-beta {
            background: #ffc107;
            color: #212529;
        }
        .status-deprecated {
            background: #dc3545;
            color: white;
        }
        .component-description {
            color: #6c757d;
            margin-bottom: clamp(10px, 1.5vh, 16px);
            line-height: 1.6;
            font-size: clamp(13px, 1.5vh, 15px);
            flex-grow: 1;
        }
        .component-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: clamp(12px, 1.5vh, 18px);
            margin-top: auto;
        }
        .component-tag {
            background: #f8f9fa;
            color: #495057;
            padding: clamp(4px, 0.5vh, 6px) clamp(8px, 1vh, 12px);
            border-radius: 6px;
            font-size: clamp(11px, 1.2vh, 13px);
            border: 1px solid #e9ecef;
        }
        .component-actions {
             display: flex;
             gap: clamp(8px, 1vh, 12px);
             margin-top: auto;
             flex-wrap: wrap;
         }
         .component-meta {
             background: #f8f9fa;
             padding: 12px;
             border-radius: 8px;
             margin: 15px 0;
             border: 1px solid #e9ecef;
         }
         .meta-item {
             display: flex;
             justify-content: space-between;
             margin-bottom: 6px;
         }
         .meta-item:last-child {
             margin-bottom: 0;
         }
         .meta-label {
             font-weight: 500;
             color: #6c757d;
         }
         .meta-value {
             color: #495057;
         }
         .component-dependencies {
             margin: 15px 0;
             padding: 12px;
             background: #fff3cd;
             border: 1px solid #ffeaa7;
             border-radius: 8px;
         }
         .component-dependencies h4 {
             margin: 0 0 8px 0;
             font-size: 0.9em;
             color: #856404;
         }
         .component-dependencies ul {
             margin: 0;
             padding-left: 20px;
         }
         .component-dependencies li {
             color: #856404;
             font-size: 0.85em;
             margin-bottom: 4px;
         }
         .component-api {
             margin: 15px 0;
             padding: 12px;
             background: #d1ecf1;
             border: 1px solid #bee5eb;
             border-radius: 8px;
         }
         .component-api h4 {
             margin: 0 0 8px 0;
             font-size: 0.9em;
             color: #0c5460;
         }
         .component-api p {
             margin: 4px 0;
             font-size: 0.85em;
             color: #0c5460;
         }
        .action-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background-color 0.2s ease;
        }
        .btn-primary {
            background: #667eea;
            color: white;
        }
        .btn-primary:hover {
            background: #5a6fd8;
        }
        .btn-secondary {
            background: #6c757d;
            color: white;
        }
        .btn-secondary:hover {
            background: #5a6268;
        }
        .btn-outline {
            background: transparent;
            color: #667eea;
            border: 1px solid #667eea;
        }
        .btn-outline:hover {
            background: #667eea;
            color: white;
        }
        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #6c757d;
        }
        .no-results h3 {
             margin-bottom: 10px;
             color: #495057;
         }
         @keyframes slideIn {
             from {
                 transform: translateX(100%);
                 opacity: 0;
             }
             to {
                 transform: translateX(0);
                 opacity: 1;
             }
         }
         @keyframes slideOut {
             from {
                 transform: translateX(0);
                 opacity: 1;
             }
             to {
                 transform: translateX(100%);
                 opacity: 0;
             }
         }

         /* æ¨¡æ€çª—å£æ ·å¼ */
         .demo-modal {
             position: fixed;
             top: 0;
             left: 0;
             width: 100%;
             height: 100%;
             background: rgba(0, 0, 0, 0.5);
             z-index: 10000;
             display: flex;
             align-items: center;
             justify-content: center;
             opacity: 0;
             visibility: hidden;
             transition: all 0.3s ease;
         }

         .demo-modal.show {
             opacity: 1;
             visibility: visible;
         }

         .demo-modal-content {
             background: white;
             border-radius: 8px;
             width: 95%;
             height: 90%;
             max-width: 1400px;
             max-height: 900px;
             display: flex;
             flex-direction: column;
             box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
             transform: scale(0.9);
             transition: transform 0.3s ease;
         }

         .demo-modal.show .demo-modal-content {
             transform: scale(1);
         }

         .demo-modal-header {
             padding: 20px;
             border-bottom: 1px solid #e9ecef;
             display: flex;
             justify-content: space-between;
             align-items: center;
             background: #f8f9fa;
             border-radius: 8px 8px 0 0;
         }

         .demo-modal-header h3 {
             margin: 0;
             color: #333;
             font-size: 1.25rem;
         }

         .demo-modal-close {
             background: none;
             border: none;
             font-size: 24px;
             cursor: pointer;
             color: #6c757d;
             padding: 0;
             width: 30px;
             height: 30px;
             display: flex;
             align-items: center;
             justify-content: center;
             border-radius: 50%;
             transition: all 0.2s ease;
         }

         .demo-modal-close:hover {
             background: #e9ecef;
             color: #333;
         }

         .demo-modal-body {
             flex: 1;
             padding: 0;
             overflow: hidden;
         }

         .demo-modal-body iframe {
             border-radius: 0 0 8px 8px;
         }

         /* æ•™ç¨‹å†…å®¹æ ·å¼ */
         .tutorial-content {
             font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
             line-height: 1.6;
             color: #333;
             padding: 20px;
             max-height: 70vh;
             overflow-y: auto;
         }

         .tutorial-section {
             margin-bottom: 30px;
             padding-bottom: 20px;
             border-bottom: 1px solid #eee;
         }

         .tutorial-section:last-child {
             border-bottom: none;
         }

         .tutorial-section h4 {
             color: #2c3e50;
             margin-bottom: 15px;
             font-size: 18px;
             font-weight: 600;
         }

         .tutorial-section h5 {
             color: #34495e;
             margin: 15px 0 10px 0;
             font-size: 14px;
             font-weight: 600;
         }

         .tutorial-section p {
             margin-bottom: 15px;
             color: #555;
         }

         .code-block {
             margin: 15px 0;
             background: #f8f9fa;
             border-radius: 6px;
             overflow: hidden;
         }

         .code-block pre {
             margin: 0;
             padding: 15px;
             background: #2d3748;
             color: #e2e8f0;
             font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
             font-size: 13px;
             line-height: 1.5;
             overflow-x: auto;
         }

         .code-block code {
             background: none;
             color: inherit;
             padding: 0;
             font-size: inherit;
         }

         .config-table {
             width: 100%;
             border-collapse: collapse;
             margin: 15px 0;
             font-size: 14px;
         }

         .config-table th,
         .config-table td {
             padding: 12px;
             text-align: left;
             border-bottom: 1px solid #ddd;
         }

         .config-table th {
             background-color: #f8f9fa;
             font-weight: 600;
             color: #2c3e50;
         }

         .config-table tr:hover {
             background-color: #f8f9fa;
         }

         .feature-list {
             list-style: none;
             padding: 0;
         }

         .feature-list li {
             padding: 8px 0;
             border-bottom: 1px solid #f0f0f0;
         }

         .feature-list li:last-child {
             border-bottom: none;
         }

         .feature-list strong {
             color: #2c3e50;
         }

        /* é«˜åˆ†è¾¨ç‡å±å¹•ä¼˜åŒ–å¸ƒå±€ */
        @media (min-width: 2560px) {
            /* 4KåŠä»¥ä¸Šè¶…é«˜åˆ†è¾¨ç‡ */
            .components-grid {
                grid-template-columns: repeat(6, 1fr);
                gap: clamp(16px, 1.5vw, 24px);
            }
        }

        @media (min-width: 1920px) and (max-width: 2559px) {
            /* 2Ké«˜åˆ†è¾¨ç‡ */
            .components-grid {
                grid-template-columns: repeat(5, 1fr);
                gap: clamp(14px, 1.2vw, 20px);
            }
        }

        @media (min-width: 1400px) and (max-width: 1919px) {
            /* å¤§å±å¹• */
            .components-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }

        @media (min-width: 1200px) and (max-width: 1399px) {
            .components-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (min-width: 769px) and (max-width: 1199px) {
            .components-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 600px) and (max-width: 768px) {
            .components-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 599px) {
            .components-grid {
                grid-template-columns: repeat(1, 1fr);
            }
        }
    </style>
</head>
<body>
    <div id="navigation-container"></div>
    
    <div class="container">
        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <div class="main-content">
            <!-- å³ä¾§å†…å®¹åŒº -->
            <div class="content-wrapper">
                <!-- ä¸»å†…å®¹åŒºåŸŸ -->
                <main class="content">
                    <div id="dashboard" class="page-header" style="margin-bottom: 16px; padding-bottom: 12px;">
                        <h2>ç»„ä»¶åº“ç®¡ç† <span class="english-title">Component Library Management</span></h2>
                        <div class="breadcrumb">
                            <span>ç»„ä»¶åº“</span>
                        </div>
                    </div>
                    
                    <div class="component-library">
                        <div class="library-header">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <h1>HMSåŒ»é™¢ç®¡ç†ç³»ç»Ÿç»„ä»¶åº“</h1>
                                    <p>ç»Ÿä¸€ç®¡ç†å’Œä½¿ç”¨ç³»ç»Ÿç»„ä»¶</p>
                                </div>
                                <div style="display: flex; gap: 10px;">
                                    <button onclick="uploadComponent()" style="background: #28a745; color: white; border: none; padding: 10px 20px; border-radius: 6px; font-weight: 500; cursor: pointer; transition: all 0.3s ease; font-size: 14px;">
                                        <i class="fas fa-upload"></i> ä¸Šä¼ ç»„ä»¶
                                    </button>
                                    <button onclick="createComponent()" style="background: #17a2b8; color: white; border: none; padding: 10px 20px; border-radius: 6px; font-weight: 500; cursor: pointer; transition: all 0.3s ease; font-size: 14px;">
                                        <i class="fas fa-plus"></i> åˆ›å»ºç»„ä»¶
                                    </button>
                                </div>
                            </div>
                        </div>

                <div class="library-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="totalComponents">0</div>
                        <div class="stat-label">æ€»ç»„ä»¶æ•°</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="stableComponents">0</div>
                        <div class="stat-label">ç¨³å®šç‰ˆæœ¬</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="betaComponents">0</div>
                        <div class="stat-label">æµ‹è¯•ç‰ˆæœ¬</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="categoriesCount">0</div>
                        <div class="stat-label">ç»„ä»¶åˆ†ç±»</div>
                    </div>
                </div>

                <!-- æ§åˆ¶æ å’Œç»„ä»¶ç½‘æ ¼å®¹å™¨ -->
                <div class="content-layout">
                    <!-- æœç´¢å’Œç­›é€‰æ§åˆ¶æ  -->
                    <div class="controls-container">
                        <div class="controls-bar">
                            <div class="search-section">
                                <input type="text" id="searchInput" placeholder="æœç´¢ç»„ä»¶åç§°ã€æè¿°æˆ–æ ‡ç­¾..." class="search-input">
                                <button id="clearSearch" class="clear-btn" style="display: none;">æ¸…é™¤</button>
                            </div>
                            <div class="filters-section">
                                <select id="categoryFilter" class="filter-select">
                                    <option value="">æ‰€æœ‰åˆ†ç±»</option>
                                </select>
                                <select id="statusFilter" class="filter-select">
                                    <option value="">æ‰€æœ‰çŠ¶æ€</option>
                                    <option value="stable">ç¨³å®šç‰ˆæœ¬</option>
                                    <option value="beta">æµ‹è¯•ç‰ˆæœ¬</option>
                                    <option value="deprecated">å·²åºŸå¼ƒ</option>
                                </select>
                                <select id="sortBy" class="filter-select">
                                    <option value="name">æŒ‰åç§°æ’åº</option>
                                    <option value="created">æŒ‰åˆ›å»ºæ—¶é—´</option>
                                    <option value="updated">æŒ‰æ›´æ–°æ—¶é—´</option>
                                    <option value="category">æŒ‰åˆ†ç±»</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- ç»„ä»¶å±•ç¤ºåŒºåŸŸ -->
                    <div class="components-container">
                        <div id="loadingState" class="loading">
                            <p>æ­£åœ¨åŠ è½½ç»„ä»¶åº“...</p>
                        </div>

                        <div id="componentsGrid" class="components-grid" style="display: none;">
                        </div>
                    </div>
                </div>
                </main>
            </div>
        </div>
    </div>

    <script src="../js/echarts.min.js"></script>
    <script src="../js/navigation-loader.js"></script>
    <script>
        class ComponentLibraryManager {
            constructor() {
                this.components = [];
                this.filteredComponents = [];
                this.currentFilters = {
                    search: '',
                    category: '',
                    status: '',
                    sortBy: 'name'
                };
                this.init();
            }

            async init() {
                try {
                    await this.loadComponentData();
                    this.setupEventListeners();
                    this.populateCategoryFilter();
                    this.applyFilters();
                    this.updateStatistics();
                    document.getElementById('loadingState').style.display = 'none';
                } catch (error) {
                    console.error('åˆå§‹åŒ–ç»„ä»¶åº“å¤±è´¥:', error);
                    this.showError('åŠ è½½ç»„ä»¶åº“æ•°æ®å¤±è´¥');
                }
            }

            async loadComponentData() {
                try {
                    const response = await fetch('../data/component-library.json');
                    if (!response.ok) {
                        throw new Error('HTTP error! status: ' + response.status);
                    }
                    const data = await response.json();
                    this.components = data.components || [];
                    this.filteredComponents = [...this.components];
                } catch (error) {
                    console.error('åŠ è½½ç»„ä»¶æ•°æ®å¤±è´¥:', error);
                    throw error;
                }
            }

            setupEventListeners() {
                const searchInput = document.getElementById('searchInput');
                const clearSearch = document.getElementById('clearSearch');
                const categoryFilter = document.getElementById('categoryFilter');
                const statusFilter = document.getElementById('statusFilter');
                const sortBy = document.getElementById('sortBy');

                // æœç´¢åŠŸèƒ½
                searchInput.addEventListener('input', (e) => {
                    this.currentFilters.search = e.target.value.toLowerCase();
                    clearSearch.style.display = e.target.value ? 'block' : 'none';
                    this.applyFilters();
                });

                // æ¸…é™¤æœç´¢
                clearSearch.addEventListener('click', () => {
                    searchInput.value = '';
                    this.currentFilters.search = '';
                    clearSearch.style.display = 'none';
                    this.applyFilters();
                });

                // ç­›é€‰å™¨
                categoryFilter.addEventListener('change', (e) => {
                    this.currentFilters.category = e.target.value;
                    this.applyFilters();
                });

                statusFilter.addEventListener('change', (e) => {
                    this.currentFilters.status = e.target.value;
                    this.applyFilters();
                });

                sortBy.addEventListener('change', (e) => {
                    this.currentFilters.sortBy = e.target.value;
                    this.applyFilters();
                });
            }

            populateCategoryFilter() {
                const categories = [...new Set(this.components.map(c => c.category))];
                const categoryFilter = document.getElementById('categoryFilter');
                
                categories.forEach(category => {
                    const option = document.createElement('option');
                    option.value = category;
                    option.textContent = category;
                    categoryFilter.appendChild(option);
                });
            }

            applyFilters() {
                let filtered = [...this.components];

                // æœç´¢è¿‡æ»¤
                if (this.currentFilters.search) {
                    filtered = filtered.filter(component => {
                        const searchTerm = this.currentFilters.search;
                        return component.name.toLowerCase().includes(searchTerm) ||
                               component.description.toLowerCase().includes(searchTerm) ||
                               (component.tags && component.tags.some(tag => tag.toLowerCase().includes(searchTerm)));
                    });
                }

                // åˆ†ç±»è¿‡æ»¤
                if (this.currentFilters.category) {
                    filtered = filtered.filter(component => component.category === this.currentFilters.category);
                }

                // çŠ¶æ€è¿‡æ»¤
                if (this.currentFilters.status) {
                    filtered = filtered.filter(component => component.status === this.currentFilters.status);
                }

                // æ’åº
                filtered.sort((a, b) => {
                    switch (this.currentFilters.sortBy) {
                        case 'name':
                            return a.name.localeCompare(b.name);
                        case 'created':
                            return new Date(b.created_date) - new Date(a.created_date);
                        case 'updated':
                            return new Date(b.updated_date) - new Date(a.updated_date);
                        case 'category':
                            return a.category.localeCompare(b.category);
                        default:
                            return 0;
                    }
                });

                this.filteredComponents = filtered;
                this.renderComponents();
            }

            renderComponents() {
                const loadingState = document.getElementById('loadingState');
                const componentsGrid = document.getElementById('componentsGrid');

                loadingState.style.display = 'none';
                componentsGrid.style.display = 'grid';
                componentsGrid.innerHTML = '';

                if (this.filteredComponents.length === 0) {
                    componentsGrid.innerHTML = `
                        <div class="no-results" style="grid-column: 1 / -1;">
                            <h3>æœªæ‰¾åˆ°åŒ¹é…çš„ç»„ä»¶</h3>
                            <p>è¯·å°è¯•è°ƒæ•´æœç´¢æ¡ä»¶æˆ–ç­›é€‰å™¨</p>
                        </div>
                    `;
                    return;
                }

                this.filteredComponents.forEach(component => {
                    const card = this.createComponentCard(component);
                    componentsGrid.appendChild(card);
                });
            }

            createComponentCard(component) {
                 const card = document.createElement('div');
                 card.className = 'component-card';
                 card.setAttribute('data-component-id', component.id);
                 
                 const statusClass = `status-${component.status}`;
                 const statusText = {
                     'stable': 'ç¨³å®šç‰ˆæœ¬',
                     'beta': 'æµ‹è¯•ç‰ˆæœ¬',
                     'deprecated': 'å·²åºŸå¼ƒ'
                 }[component.status] || component.status;

                 const tagsHtml = component.tags ? 
                     component.tags.map(tag => `<span class="component-tag">${tag}</span>`).join('') : '';

                 // ä¾èµ–ä¿¡æ¯
                 const dependenciesHtml = component.dependencies && component.dependencies.length > 0 ? 
                     `<div class="component-dependencies">
                         <h4>ä¾èµ–é¡¹ï¼š</h4>
                         <ul>
                             ${component.dependencies.map(dep => 
                                 `<li>${dep.name} v${dep.version} ${dep.required ? '(å¿…éœ€)' : '(å¯é€‰)'}</li>`
                             ).join('')}
                         </ul>
                     </div>` : '';

                 // APIä¿¡æ¯
                 const apiHtml = component.api ? 
                     `<div class="component-api">
                         <h4>APIä¿¡æ¯ï¼š</h4>
                         <p><strong>ç±»åï¼š</strong>${component.api.className}</p>
                         <p><strong>æ–¹æ³•æ•°ï¼š</strong>${component.api.methods ? component.api.methods.length : 0}</p>
                     </div>` : '';

                 // ä½œè€…å’Œæ—¥æœŸä¿¡æ¯
                 const metaHtml = `
                     <div class="component-meta">
                         <div class="meta-item">
                             <span class="meta-label">ä½œè€…ï¼š</span>
                             <span class="meta-value">${component.author || 'æœªçŸ¥'}</span>
                         </div>
                         <div class="meta-item">
                             <span class="meta-label">åˆ›å»ºï¼š</span>
                             <span class="meta-value">${this.formatDate(component.createDate)}</span>
                         </div>
                         <div class="meta-item">
                             <span class="meta-label">æ›´æ–°ï¼š</span>
                             <span class="meta-value">${this.formatDate(component.updateDate)}</span>
                         </div>
                     </div>
                 `;

                 card.innerHTML = `
                     <div class="component-header">
                         <h3 class="component-title">${component.name}</h3>
                         <div>
                             <span class="component-version">v${component.version}</span>
                             <span class="component-status ${statusClass}">${statusText}</span>
                         </div>
                     </div>
                     <p class="component-description">${component.description}</p>
                     <div class="component-tags">${tagsHtml}</div>
                     ${metaHtml}
                     ${dependenciesHtml}
                     ${apiHtml}
                     <div class="component-actions">
                         <button class="action-btn btn-primary" onclick="viewDemo('${component.id}')">æŸ¥çœ‹æ¼”ç¤º</button>
                         <button class="action-btn btn-secondary" onclick="viewTutorial('${component.id}')">ä½¿ç”¨æ•™ç¨‹</button>
                         <button class="action-btn btn-outline" onclick="copyUsage('${component.id}')">å¤åˆ¶ä»£ç </button>
                         <button class="action-btn btn-outline" onclick="viewDetails('${component.id}')">è¯¦ç»†ä¿¡æ¯</button>
                     </div>
                 `;

                 return card;
             }

             formatDate(dateString) {
                 if (!dateString) return 'æœªçŸ¥';
                 const date = new Date(dateString);
                 return date.toLocaleDateString('zh-CN');
             }

            updateStatistics() {
                const categories = [...new Set(this.components.map(c => c.category))];
                const stats = {
                    total: this.components.length,
                    stable: this.components.filter(c => c.status === 'stable').length,
                    beta: this.components.filter(c => c.status === 'beta').length,
                    categories: categories.length
                };

                document.getElementById('totalComponents').textContent = stats.total;
                document.getElementById('stableComponents').textContent = stats.stable;
                document.getElementById('betaComponents').textContent = stats.beta;
                document.getElementById('categoriesCount').textContent = stats.categories;
            }

            showError(message) {
                const loadingState = document.getElementById('loadingState');
                loadingState.innerHTML = `<div style="text-align: center; color: #dc3545;"><h3>åŠ è½½å¤±è´¥</h3><p>${message}</p></div>`;
            }

            getComponentById(id) {
                return this.components.find(c => c.id === id);
            }
        }

        // å…¨å±€å‡½æ•°
        function viewDemo(componentId) {
            if (componentId === 'disease-benefit-analysis') {
                showDiseaseBenefitDemo();
            } else {
                showNotification(`æ­£åœ¨æ‰“å¼€ ${componentId} çš„æ¼”ç¤ºé¡µé¢...`);
                // è·³è½¬åˆ°æ¼”ç¤ºé¡µé¢
                setTimeout(() => {
                    window.open(`component-demo.html?id=${componentId}`, '_blank');
                }, 500);
            }
        }

        function showDiseaseBenefitDemo() {
            // åˆ›å»ºæ¨¡æ€çª—å£
            const modal = document.createElement('div');
            modal.className = 'demo-modal';
            modal.innerHTML = `
                <div class="demo-modal-content">
                    <div class="demo-modal-header">
                        <h3>ç—…ç§æ•ˆç›Šåˆ†æç»„ä»¶æ¼”ç¤º</h3>
                        <button class="demo-modal-close" onclick="closeDemoModal()">&times;</button>
                    </div>
                    <div class="demo-modal-body">
                        <iframe id="demo-iframe" src="./components/disease-benefit/disease-benefit.html" 
                                frameborder="0" width="100%" height="100%"></iframe>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // æ˜¾ç¤ºæ¨¡æ€çª—å£
            setTimeout(() => {
                modal.classList.add('show');
            }, 10);
        }

        function closeDemoModal() {
            const modal = document.querySelector('.demo-modal');
            if (modal) {
                modal.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(modal);
                }, 300);
            }
        }

        function viewTutorial(componentId) {
            if (componentId === 'disease-benefit-analysis') {
                showDiseaseBenefitTutorial();
            } else {
                showNotification(`æ­£åœ¨æ‰“å¼€ ${componentId} çš„ä½¿ç”¨æ•™ç¨‹...`);
                // è·³è½¬åˆ°æ•™ç¨‹é¡µé¢
                setTimeout(() => {
                    window.open(`component-tutorial.html?id=${componentId}`, '_blank');
                }, 500);
            }
        }

        function showDiseaseBenefitTutorial() {
            // åˆ›å»ºæ•™ç¨‹æ¨¡æ€çª—å£
            const modal = document.createElement('div');
            modal.className = 'demo-modal';
            modal.innerHTML = `
                <div class="demo-modal-content">
                    <div class="demo-modal-header">
                        <h3>ç—…ç§æ•ˆç›Šåˆ†æç»„ä»¶ - ä½¿ç”¨æ•™ç¨‹</h3>
                        <button class="demo-modal-close" onclick="closeDemoModal()">&times;</button>
                    </div>
                    <div class="demo-modal-body tutorial-content">
                        <div class="tutorial-section">
                            <h4>ğŸ“‹ ç»„ä»¶ç®€ä»‹</h4>
                            <p>ç—…ç§æ•ˆç›Šåˆ†æç»„ä»¶æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æ•°æ®å¯è§†åŒ–ç»„ä»¶ï¼Œç”¨äºå±•ç¤ºå’Œåˆ†æåŒ»é™¢å„ç—…ç§çš„ç»æµæ•ˆç›Šæ•°æ®ã€‚</p>
                        </div>
                        
                        <div class="tutorial-section">
                            <h4>ğŸš€ å¿«é€Ÿå¼€å§‹</h4>
                            <div class="code-block">
                                <h5>1. å¼•å…¥æ–‡ä»¶</h5>
                                <pre><code>&lt;!-- å¼•å…¥ECharts (æœ¬åœ°æ–‡ä»¶) --&gt;
&lt;script src="../js/echarts.min.js"&gt;&lt;/script&gt;

&lt;!-- å¼•å…¥ç»„ä»¶æ–‡ä»¶ --&gt;
&lt;link rel="stylesheet" href="./components/disease-benefit/disease-benefit.css"&gt;
&lt;script src="./components/disease-benefit/disease-benefit.js"&gt;&lt;/script&gt;</code></pre>
                            </div>
                            
                            <div class="code-block">
                                <h5>2. åˆ›å»ºå®¹å™¨</h5>
                                <pre><code>&lt;div id="disease-benefit-container"&gt;&lt;/div&gt;</code></pre>
                            </div>
                            
                            <div class="code-block">
                                <h5>3. åˆå§‹åŒ–ç»„ä»¶</h5>
                                <pre><code>const component = new DiseaseBenefitComponent('disease-benefit-container', {
    apiUrl: '/api/disease-benefit',
    autoInit: true,
    autoLoad: true,
    enableExport: true,
    enableAIInsight: true
});</code></pre>
                            </div>
                        </div>
                        
                        <div class="tutorial-section">
                            <h4>âš™ï¸ é…ç½®é€‰é¡¹</h4>
                            <table class="config-table">
                                <thead>
                                    <tr>
                                        <th>å‚æ•°</th>
                                        <th>ç±»å‹</th>
                                        <th>é»˜è®¤å€¼</th>
                                        <th>è¯´æ˜</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>containerId</td>
                                        <td>string</td>
                                        <td>'disease-benefit-component'</td>
                                        <td>å®¹å™¨ID</td>
                                    </tr>
                                    <tr>
                                        <td>apiUrl</td>
                                        <td>string</td>
                                        <td>'/api/disease-benefit'</td>
                                        <td>æ•°æ®æ¥å£åœ°å€</td>
                                    </tr>
                                    <tr>
                                        <td>autoInit</td>
                                        <td>boolean</td>
                                        <td>true</td>
                                        <td>è‡ªåŠ¨åˆå§‹åŒ–</td>
                                    </tr>
                                    <tr>
                                        <td>autoLoad</td>
                                        <td>boolean</td>
                                        <td>true</td>
                                        <td>è‡ªåŠ¨åŠ è½½æ•°æ®</td>
                                    </tr>
                                    <tr>
                                        <td>enableExport</td>
                                        <td>boolean</td>
                                        <td>true</td>
                                        <td>å¯ç”¨æ•°æ®å¯¼å‡º</td>
                                    </tr>
                                    <tr>
                                        <td>enableAIInsight</td>
                                        <td>boolean</td>
                                        <td>true</td>
                                        <td>å¯ç”¨AIæ´å¯Ÿ</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="tutorial-section">
                            <h4>ğŸ¯ ä¸»è¦åŠŸèƒ½</h4>
                            <ul class="feature-list">
                                <li><strong>æ•°æ®å¯è§†åŒ–</strong>ï¼šæ”¯æŒå¤šç§å›¾è¡¨ç±»å‹ï¼ˆæŸ±çŠ¶å›¾ã€é¥¼å›¾ã€è¶‹åŠ¿å›¾ç­‰ï¼‰</li>
                                <li><strong>æ™ºèƒ½ç­›é€‰</strong>ï¼šæ”¯æŒæŒ‰ç§‘å®¤ã€ç—…ç§ã€æ—¶é—´èŒƒå›´ç­‰å¤šç»´åº¦ç­›é€‰</li>
                                <li><strong>æ•°æ®è¡¨æ ¼</strong>ï¼šå¯æ’åºã€å¯åˆ†é¡µçš„æ•°æ®è¡¨æ ¼å±•ç¤º</li>
                                <li><strong>æ•°æ®å¯¼å‡º</strong>ï¼šæ”¯æŒExcelæ ¼å¼æ•°æ®å¯¼å‡º</li>
                                <li><strong>è¯¦æƒ…æŸ¥çœ‹</strong>ï¼šç—…ç§è¯¦æƒ…å¼¹çª—å’ŒåŒ»ç”Ÿç”»åƒåŠŸèƒ½</li>
                                <li><strong>AIæ´å¯Ÿ</strong>ï¼šæ™ºèƒ½åˆ†æå’Œå»ºè®®åŠŸèƒ½</li>
                                <li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šé€‚é…å„ç§å±å¹•å°ºå¯¸</li>
                            </ul>
                        </div>
                        
                        <div class="tutorial-section">
                            <h4>ğŸ“ æ•°æ®æºé…ç½®</h4>
                            
                            <div class="code-block">
                                <h5>1. APIæ¥å£åœ°å€</h5>
                                <pre><code>GET /api/disease-benefit
å‚æ•°ï¼š
- department: ç§‘å®¤ç­›é€‰ (å¯é€‰)
- dateRange: æ—¶é—´èŒƒå›´ (å¯é€‰ï¼Œæ ¼å¼: YYYY-MM-DD,YYYY-MM-DD)
- diseaseCode: ç—…ç§ä»£ç ç­›é€‰ (å¯é€‰)</code></pre>
                            </div>
                            
                            <div class="code-block">
                                <h5>2. è¿”å›æ•°æ®æ ¼å¼</h5>
                                <pre><code>{
  "success": true,
  "data": {
    "diseases": [
      {
        "code": "I21",           // ç—…ç§ä»£ç  (ICD-10)
        "name": "æ€¥æ€§å¿ƒè‚Œæ¢—æ­»",    // ç—…ç§åç§°
        "department": "å¿ƒå†…ç§‘",   // æ‰€å±ç§‘å®¤
        "revenue": 1250000,      // æ€»æ”¶å…¥ (å…ƒ)
        "cost": 980000,          // æ€»æˆæœ¬ (å…ƒ)
        "profit": 270000,        // å‡€åˆ©æ¶¦ (å…ƒ)
        "cases": 45,             // ç—…ä¾‹æ•°
        "avgStay": 8.5,          // å¹³å‡ä½é™¢å¤©æ•°
        "avgCost": 21777.78,     // å¹³å‡è´¹ç”¨
        "profitRate": 0.216,     // åˆ©æ¶¦ç‡
        "doctors": [             // ä¸»æ²»åŒ»ç”Ÿåˆ—è¡¨
          {
            "id": "D001",
            "name": "å¼ åŒ»ç”Ÿ",
            "cases": 15,
            "avgStay": 7.8
          }
        ]
      }
    ],
    "summary": {               // æ±‡æ€»æ•°æ®
      "totalRevenue": 5680000,
      "totalCost": 4320000,
      "totalProfit": 1360000,
      "totalCases": 186,
      "avgProfitRate": 0.239
    },
    "departments": [           // ç§‘å®¤åˆ—è¡¨ (ç”¨äºç­›é€‰)
      "å¿ƒå†…ç§‘", "ç¥ç»å†…ç§‘", "éª¨ç§‘", "æ™®å¤–ç§‘"
    ]
  }
}</code></pre>
                            </div>
                            
                            <div class="code-block">
                                <h5>3. æ¨¡æ‹Ÿæ•°æ®é…ç½®</h5>
                                <pre><code>// å¦‚æœæ²¡æœ‰åç«¯APIï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®
const component = new DiseaseBenefitComponent('container', {
    apiUrl: null,  // è®¾ç½®ä¸ºnullä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®
    mockData: {
        diseases: [
            {
                id: 1,
                code: "I21",
                name: "æ€¥æ€§å¿ƒè‚Œæ¢—æ­»",
                department: "å¿ƒå†…ç§‘",
                revenue: 1250000,        // æ€»æ”¶å…¥
                cost: 980000,           // æ€»æˆæœ¬
                profit: 270000,         // æ€»ç»“ä½™
                cases: 45,              // ç—…ä¾‹æ•°
                avgRevenue: 27777.78,   // å¹³å‡æ”¶å…¥ (revenue/cases)
                avgCost: 21777.78,      // å¹³å‡æˆæœ¬ (cost/cases)
                avgProfit: 6000.00,     // å¹³å‡ç»“ä½™ (profit/cases)
                profitRate: 21.6,       // ç»“ä½™ç‡ (profit/revenue*100)
                breakevenCases: 38,     // ä¿æœ¬ä¾‹æ•°
                avgStay: 8.5,           // å¹³å‡ä½é™¢å¤©æ•°
                recordDate: "2024-01-15",
                doctorId: "DOC001"
            },
            {
                id: 2,
                code: "E11",
                name: "2å‹ç³–å°¿ç—…",
                department: "å†…åˆ†æ³Œç§‘",
                revenue: 890000,
                cost: 720000,
                profit: 170000,
                cases: 120,
                avgRevenue: 7416.67,
                avgCost: 6000.00,
                avgProfit: 1416.67,
                profitRate: 19.1,
                breakevenCases: 95,
                avgStay: 6.2,
                recordDate: "2024-01-15",
                doctorId: "DOC002"
            }
            // ... æ›´å¤šæ•°æ®
        ]
    }
});</code></pre>
                            </div>
                            
                            <div class="code-block">
                                <h5>4. æ•°æ®åº“è¡¨ç»“æ„å‚è€ƒ</h5>
                                <pre><code>-- ç—…ç§æ•ˆç›Šåˆ†æè¡¨
CREATE TABLE disease_benefit (
    id INT PRIMARY KEY AUTO_INCREMENT,                    -- ä¸»é”®ID
    disease_code VARCHAR(10) NOT NULL,                    -- ICD-10ç—…ç§ä»£ç 
    disease_name VARCHAR(100) NOT NULL,                   -- ç—…ç§åç§°
    department VARCHAR(50) NOT NULL,                      -- æ‰€å±ç§‘å®¤
    revenue DECIMAL(12,2) NOT NULL,                       -- æ€»æ”¶å…¥(å…ƒ)
    cost DECIMAL(12,2) NOT NULL,                          -- æ€»æˆæœ¬(å…ƒ)
    profit DECIMAL(12,2) NOT NULL,                        -- æ€»ç»“ä½™(å…ƒ) revenue-cost
    cases INT NOT NULL,                                   -- ç—…ä¾‹æ•°é‡
    avg_revenue DECIMAL(12,2) GENERATED ALWAYS AS (revenue/cases) STORED,  -- å¹³å‡æ”¶å…¥(å…ƒ)
    avg_cost DECIMAL(12,2) GENERATED ALWAYS AS (cost/cases) STORED,        -- å¹³å‡æˆæœ¬(å…ƒ)
    avg_profit DECIMAL(12,2) GENERATED ALWAYS AS (profit/cases) STORED,    -- å¹³å‡ç»“ä½™(å…ƒ)
    profit_rate DECIMAL(5,2) GENERATED ALWAYS AS (profit/revenue*100) STORED, -- ç»“ä½™ç‡(%)
    breakeven_cases INT,                                  -- ä¿æœ¬ä¾‹æ•°(ç›ˆäºå¹³è¡¡ç‚¹)
    avg_stay DECIMAL(5,2),                               -- å¹³å‡ä½é™¢å¤©æ•°
    record_date DATE NOT NULL,                           -- è®°å½•æ—¥æœŸ
    doctor_id VARCHAR(20),                               -- ä¸»æ²»åŒ»ç”ŸID
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,      -- åˆ›å»ºæ—¶é—´
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP, -- æ›´æ–°æ—¶é—´
    
    -- ç´¢å¼•ä¼˜åŒ–
    INDEX idx_department (department),                    -- ç§‘å®¤ç´¢å¼•
    INDEX idx_date (record_date),                        -- æ—¥æœŸç´¢å¼•
    INDEX idx_disease (disease_code),                    -- ç—…ç§ä»£ç ç´¢å¼•
    INDEX idx_profit_rate (profit_rate),                 -- ç»“ä½™ç‡ç´¢å¼•
    INDEX idx_cases (cases),                             -- ç—…ä¾‹æ•°ç´¢å¼•
    
    -- çº¦æŸæ¡ä»¶
    CONSTRAINT chk_revenue CHECK (revenue >= 0),         -- æ”¶å…¥éè´Ÿ
    CONSTRAINT chk_cost CHECK (cost >= 0),               -- æˆæœ¬éè´Ÿ
    CONSTRAINT chk_cases CHECK (cases > 0),              -- ç—…ä¾‹æ•°å¤§äº0
    CONSTRAINT chk_avg_stay CHECK (avg_stay > 0)         -- å¹³å‡ä½é™¢å¤©æ•°å¤§äº0
);</code></pre>
                            </div>
                            
                            <div class="tutorial-section">
                                <h5>ğŸ“‹ å­—æ®µè¯´æ˜è¡¨</h5>
                                <div class="table-container">
                                    <table class="config-table">
                                        <thead>
                                            <tr>
                                                <th>å­—æ®µå</th>
                                                <th>ç±»å‹</th>
                                                <th>è¯´æ˜</th>
                                                <th>é¡µé¢æ˜¾ç¤º</th>
                                                <th>è®¡ç®—æ–¹å¼</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td><code>disease_code</code></td>
                                                <td>VARCHAR(10)</td>
                                                <td>ICD-10å›½é™…ç–¾ç—…åˆ†ç±»ä»£ç </td>
                                                <td>ç—…ç§ç¼–ç </td>
                                                <td>ç›´æ¥æ˜¾ç¤º</td>
                                            </tr>
                                            <tr>
                                                <td><code>disease_name</code></td>
                                                <td>VARCHAR(100)</td>
                                                <td>ç—…ç§çš„ä¸­æ–‡åç§°</td>
                                                <td>ç—…ç§åç§°</td>
                                                <td>ç›´æ¥æ˜¾ç¤º</td>
                                            </tr>
                                            <tr>
                                                <td><code>cases</code></td>
                                                <td>INT</td>
                                                <td>è¯¥ç—…ç§çš„æ€»ç—…ä¾‹æ•°é‡</td>
                                                <td>ç—…ä¾‹æ•°</td>
                                                <td>ç›´æ¥æ˜¾ç¤º</td>
                                            </tr>
                                            <tr>
                                                <td><code>avg_revenue</code></td>
                                                <td>DECIMAL(12,2)</td>
                                                <td>æ¯ä¸ªç—…ä¾‹çš„å¹³å‡æ”¶å…¥</td>
                                                <td>å¹³å‡æ”¶å…¥</td>
                                                <td>revenue Ã· cases</td>
                                            </tr>
                                            <tr>
                                                <td><code>avg_cost</code></td>
                                                <td>DECIMAL(12,2)</td>
                                                <td>æ¯ä¸ªç—…ä¾‹çš„å¹³å‡æˆæœ¬</td>
                                                <td>å¹³å‡æˆæœ¬</td>
                                                <td>cost Ã· cases</td>
                                            </tr>
                                            <tr>
                                                <td><code>avg_profit</code></td>
                                                <td>DECIMAL(12,2)</td>
                                                <td>æ¯ä¸ªç—…ä¾‹çš„å¹³å‡ç»“ä½™</td>
                                                <td>å¹³å‡ç»“ä½™</td>
                                                <td>profit Ã· cases</td>
                                            </tr>
                                            <tr>
                                                <td><code>profit_rate</code></td>
                                                <td>DECIMAL(5,2)</td>
                                                <td>ç»“ä½™å æ”¶å…¥çš„ç™¾åˆ†æ¯”</td>
                                                <td>ç»“ä½™ç‡</td>
                                                <td>(profit Ã· revenue) Ã— 100%</td>
                                            </tr>
                                            <tr>
                                                <td><code>breakeven_cases</code></td>
                                                <td>INT</td>
                                                <td>è¾¾åˆ°ç›ˆäºå¹³è¡¡æ‰€éœ€çš„æœ€å°‘ç—…ä¾‹æ•°</td>
                                                <td>ä¿æœ¬ä¾‹æ•°</td>
                                                <td>å›ºå®šæˆæœ¬ Ã· (å¹³å‡æ”¶å…¥ - å˜åŠ¨æˆæœ¬)</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tutorial-section">
                            <h4>ğŸ”§ æ•°æ®å¯¹æ¥ç¤ºä¾‹</h4>
                            
                            <div class="code-block">
                                <h5>åç«¯APIå®ç°ç¤ºä¾‹ (Node.js)</h5>
                                <pre><code>// Express.js è·¯ç”±ç¤ºä¾‹
app.get('/api/disease-benefit', async (req, res) => {
    try {
        const { department, dateRange, diseaseCode } = req.query;
        
        // æ„å»ºæŸ¥è¯¢æ¡ä»¶
        let whereClause = '1=1';
        const params = [];
        
        if (department) {
            whereClause += ' AND department = ?';
            params.push(department);
        }
        
        if (dateRange) {
            const [startDate, endDate] = dateRange.split(',');
            whereClause += ' AND record_date BETWEEN ? AND ?';
            params.push(startDate, endDate);
        }
        
        // æŸ¥è¯¢æ•°æ®
        const sql = \`
            SELECT 
                disease_code as code,
                disease_name as name,
                department,
                SUM(revenue) as revenue,
                SUM(cost) as cost,
                SUM(revenue - cost) as profit,
                COUNT(*) as cases,
                AVG(avg_stay) as avgStay
            FROM disease_benefit 
            WHERE \${whereClause}
            GROUP BY disease_code, disease_name, department
        \`;
        
        const diseases = await db.query(sql, params);
        
        res.json({
            success: true,
            data: { diseases }
        });
    } catch (error) {
        res.status(500).json({
            success: false,
            message: error.message
        });
    }
});</code></pre>
                            </div>
                            
                            <div class="code-block">
                                <h5>å‰ç«¯æ•°æ®å¤„ç†ç¤ºä¾‹</h5>
                                <pre><code>// è‡ªå®šä¹‰æ•°æ®å¤„ç†å‡½æ•°
const component = new DiseaseBenefitComponent('container', {
    apiUrl: '/api/disease-benefit',
    dataProcessor: (rawData) => {
        // æ•°æ®é¢„å¤„ç†
        return rawData.data.diseases.map(item => ({
            ...item,
            profitRate: item.revenue > 0 ? item.profit / item.revenue : 0,
            avgCost: item.cases > 0 ? item.cost / item.cases : 0
        }));
    },
    onDataLoaded: (data) => {
        console.log('æ•°æ®åŠ è½½å®Œæˆ:', data);
    },
    onError: (error) => {
        console.error('æ•°æ®åŠ è½½å¤±è´¥:', error);
        // å¯ä»¥æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤º
    }
});</code></pre>
                            </div>
                        </div>
                        
                        <div class="tutorial-section">
                            <h4>âš™ï¸ é…ç½®å‚æ•°è¯¦è§£</h4>
                            
                            <div style="margin: 20px 0;">
                                <h5 style="color: #2c5aa0; margin: 15px 0 10px 0;">åŸºç¡€é…ç½®</h5>
                                <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 13px;">
                                    <thead>
                                        <tr style="background: #f5f5f5;">
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">å‚æ•°å</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">ç±»å‹</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">é»˜è®¤å€¼</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">è¯´æ˜</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>containerId</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">string</td>
                                            <td style="border: 1px solid #ddd; padding: 8px; color: #d73a49;">å¿…å¡«</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">ç»„ä»¶å®¹å™¨çš„DOMå…ƒç´ ID</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>apiUrl</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">string</td>
                                            <td style="border: 1px solid #ddd; padding: 8px; color: #d73a49;">å¿…å¡«</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ•°æ®æ¥å£åœ°å€</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>title</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">string</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">'ç–¾ç—…æ•ˆç›Šåˆ†æ'</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">ç»„ä»¶æ ‡é¢˜</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>width</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">string</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">'100%'</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">ç»„ä»¶å®½åº¦</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>height</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">string</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">'400px'</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">ç»„ä»¶é«˜åº¦</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div style="margin: 20px 0;">
                                <h5 style="color: #2c5aa0; margin: 15px 0 10px 0;">æ•°æ®é…ç½®</h5>
                                <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 13px;">
                                    <thead>
                                        <tr style="background: #f5f5f5;">
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">å‚æ•°å</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">ç±»å‹</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">é»˜è®¤å€¼</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">è¯´æ˜</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>enablePagination</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">boolean</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">false</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ˜¯å¦å¯ç”¨åˆ†é¡µåŠ è½½</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>pageSize</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">number</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">20</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ¯é¡µæ•°æ®æ¡æ•°</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>autoRefresh</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">boolean</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">false</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ˜¯å¦è‡ªåŠ¨åˆ·æ–°æ•°æ®</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>refreshInterval</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">number</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">300000</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">è‡ªåŠ¨åˆ·æ–°é—´éš”(æ¯«ç§’)</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>enableCache</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">boolean</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">true</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ˜¯å¦å¯ç”¨æ•°æ®ç¼“å­˜</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>cacheTimeout</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">number</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">600000</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">ç¼“å­˜è¿‡æœŸæ—¶é—´(æ¯«ç§’)</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div style="margin: 20px 0;">
                                <h5 style="color: #2c5aa0; margin: 15px 0 10px 0;">å›¾è¡¨é…ç½®</h5>
                                <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 13px;">
                                    <thead>
                                        <tr style="background: #f5f5f5;">
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">å‚æ•°å</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">ç±»å‹</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">é»˜è®¤å€¼</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">è¯´æ˜</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>chartType</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">string</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">'bar'</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">å›¾è¡¨ç±»å‹: bar/line/pie/scatter</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>chartOptions</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">object</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">{}</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">EChartsè‡ªå®šä¹‰é…ç½®</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>theme</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">string</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">'default'</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">å›¾è¡¨ä¸»é¢˜: default/dark/light</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>animation</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">boolean</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">true</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ˜¯å¦å¯ç”¨åŠ¨ç”»æ•ˆæœ</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>responsive</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">boolean</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">true</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ˜¯å¦å“åº”å¼å¸ƒå±€</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div style="margin: 20px 0;">
                                <h5 style="color: #2c5aa0; margin: 15px 0 10px 0;">äº¤äº’é…ç½®</h5>
                                <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 13px;">
                                    <thead>
                                        <tr style="background: #f5f5f5;">
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">å‚æ•°å</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">ç±»å‹</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">é»˜è®¤å€¼</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">è¯´æ˜</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>enableTooltip</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">boolean</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">true</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ˜¯å¦æ˜¾ç¤ºæç¤ºæ¡†</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>enableLegend</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">boolean</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">true</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ˜¯å¦æ˜¾ç¤ºå›¾ä¾‹</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>enableZoom</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">boolean</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">false</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ˜¯å¦å¯ç”¨ç¼©æ”¾åŠŸèƒ½</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>enableExport</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">boolean</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">true</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ˜¯å¦æ˜¾ç¤ºå¯¼å‡ºæŒ‰é’®</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>exportFormats</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">array</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">['png','jpg','pdf']</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ”¯æŒçš„å¯¼å‡ºæ ¼å¼</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div style="margin: 20px 0;">
                                <h5 style="color: #2c5aa0; margin: 15px 0 10px 0;">å›è°ƒå‡½æ•°</h5>
                                <table style="width: 100%; border-collapse: collapse; margin: 10px 0; font-size: 13px;">
                                    <thead>
                                        <tr style="background: #f5f5f5;">
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">å‚æ•°å</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">ç±»å‹</th>
                                            <th style="border: 1px solid #ddd; padding: 8px; text-align: left;">è¯´æ˜</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>onDataLoad</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">function</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ•°æ®åŠ è½½å®Œæˆå›è°ƒ</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>onError</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">function</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">é”™è¯¯å¤„ç†å›è°ƒ</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>onClick</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">function</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">å›¾è¡¨ç‚¹å‡»äº‹ä»¶å›è°ƒ</td>
                                        </tr>
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><code>onRefresh</code></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">function</td>
                                            <td style="border: 1px solid #ddd; padding: 8px;">æ•°æ®åˆ·æ–°å›è°ƒ</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div class="tutorial-section">
                            <h4>ğŸ’¡ é…ç½®ç¤ºä¾‹</h4>
                            
                            <div style="margin: 20px 0;">
                                <h5 style="color: #2c5aa0; margin: 15px 0 10px 0;">åŸºç¡€ä½¿ç”¨ç¤ºä¾‹</h5>
                                <pre style="background: #f8f9fa; padding: 15px; border-radius: 5px; border-left: 4px solid #2c5aa0; overflow-x: auto; font-size: 13px;"><code>// æœ€ç®€å•çš„é…ç½®
const component = new DiseaseBenefitComponent({
    containerId: 'disease-benefit-container',
    apiUrl: '/api/disease-benefit'
});

// åˆå§‹åŒ–ç»„ä»¶
component.init();</code></pre>
                            </div>

                            <div style="margin: 20px 0;">
                                <h5 style="color: #2c5aa0; margin: 15px 0 10px 0;">å®Œæ•´é…ç½®ç¤ºä¾‹</h5>
                                <pre style="background: #f8f9fa; padding: 15px; border-radius: 5px; border-left: 4px solid #2c5aa0; overflow-x: auto; font-size: 13px;"><code>// å®Œæ•´é…ç½®ç¤ºä¾‹
const component = new DiseaseBenefitComponent({
    // åŸºç¡€é…ç½®
    containerId: 'disease-benefit-container',
    apiUrl: '/api/disease-benefit',
    title: 'ç–¾ç—…æ•ˆç›Šåˆ†ææŠ¥å‘Š',
    width: '100%',
    height: '500px',
    
    // æ•°æ®é…ç½®
    enablePagination: true,
    pageSize: 50,
    autoRefresh: true,
    refreshInterval: 300000, // 5åˆ†é’Ÿ
    enableCache: true,
    cacheTimeout: 600000, // 10åˆ†é’Ÿ
    
    // å›¾è¡¨é…ç½®
    chartType: 'bar',
    theme: 'default',
    animation: true,
    responsive: true,
    chartOptions: {
        color: ['#3398DB', '#FF6B6B', '#4ECDC4'],
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        }
    },
    
    // äº¤äº’é…ç½®
    enableTooltip: true,
    enableLegend: true,
    enableZoom: false,
    enableExport: true,
    exportFormats: ['png', 'jpg', 'pdf'],
    
    // å›è°ƒå‡½æ•°
    onDataLoad: function(data) {
        console.log('æ•°æ®åŠ è½½å®Œæˆ:', data);
    },
    onError: function(error) {
        console.error('ç»„ä»¶é”™è¯¯:', error);
        alert('æ•°æ®åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•');
    },
    onClick: function(params) {
        console.log('å›¾è¡¨ç‚¹å‡»:', params);
        // å¯ä»¥åœ¨è¿™é‡Œå¤„ç†ç‚¹å‡»äº‹ä»¶ï¼Œå¦‚è·³è½¬åˆ°è¯¦æƒ…é¡µ
    },
    onRefresh: function() {
        console.log('æ•°æ®åˆ·æ–°ä¸­...');
    }
});

// åˆå§‹åŒ–ç»„ä»¶
component.init();</code></pre>
                            </div>

                            <div style="margin: 20px 0;">
                                <h5 style="color: #2c5aa0; margin: 15px 0 10px 0;">ä¸åŒåœºæ™¯çš„é…ç½®</h5>
                                
                                <div style="margin: 15px 0;">
                                    <strong>ğŸ“Š å¤§æ•°æ®é‡åœºæ™¯</strong>
                                    <pre style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin: 5px 0; font-size: 12px;"><code>// é€‚ç”¨äºæ•°æ®é‡è¾ƒå¤§çš„åœºæ™¯
{
    enablePagination: true,
    pageSize: 100,
    enableCache: true,
    cacheTimeout: 1800000, // 30åˆ†é’Ÿç¼“å­˜
    chartOptions: {
        dataZoom: [
            {
                type: 'slider',
                show: true,
                xAxisIndex: [0],
                start: 0,
                end: 50
            }
        ]
    }
}</code></pre>
                                </div>

                                <div style="margin: 15px 0;">
                                    <strong>ğŸ”„ å®æ—¶ç›‘æ§åœºæ™¯</strong>
                                    <pre style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin: 5px 0; font-size: 12px;"><code>// é€‚ç”¨äºéœ€è¦å®æ—¶æ›´æ–°çš„ç›‘æ§åœºæ™¯
{
    autoRefresh: true,
    refreshInterval: 60000, // 1åˆ†é’Ÿåˆ·æ–°
    enableCache: false, // ç¦ç”¨ç¼“å­˜ç¡®ä¿æ•°æ®å®æ—¶æ€§
    animation: false, // å…³é—­åŠ¨ç”»æå‡æ€§èƒ½
    onRefresh: function() {
        // æ˜¾ç¤ºåˆ·æ–°çŠ¶æ€
        document.getElementById('status').textContent = 'æ•°æ®æ›´æ–°ä¸­...';
    }
}</code></pre>
                                </div>

                                <div style="margin: 15px 0;">
                                    <strong>ğŸ“± ç§»åŠ¨ç«¯é€‚é…åœºæ™¯</strong>
                                    <pre style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin: 5px 0; font-size: 12px;"><code>// é€‚ç”¨äºç§»åŠ¨ç«¯æ˜¾ç¤º
{
    responsive: true,
    height: '300px',
    chartOptions: {
        grid: {
            left: '5%',
            right: '5%',
            top: '15%',
            bottom: '15%'
        },
        legend: {
            orient: 'horizontal',
            bottom: 0
        }
    },
    enableZoom: true // ç§»åŠ¨ç«¯å¯ç”¨ç¼©æ”¾
}</code></pre>
                                </div>

                                <div style="margin: 15px 0;">
                                    <strong>ğŸ¨ è‡ªå®šä¹‰ä¸»é¢˜åœºæ™¯</strong>
                                    <pre style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin: 5px 0; font-size: 12px;"><code>// æ·±è‰²ä¸»é¢˜é…ç½®
{
    theme: 'dark',
    chartOptions: {
        backgroundColor: '#2c3e50',
        color: ['#e74c3c', '#3498db', '#2ecc71', '#f39c12'],
        textStyle: {
            color: '#ecf0f1'
        },
        grid: {
            borderColor: '#34495e'
        }
    }
}</code></pre>
                                </div>
                            </div>

                            <div style="margin: 20px 0;">
                                <h5 style="color: #2c5aa0; margin: 15px 0 10px 0;">åŠ¨æ€é…ç½®æ›´æ–°</h5>
                                <pre style="background: #f8f9fa; padding: 15px; border-radius: 5px; border-left: 4px solid #2c5aa0; overflow-x: auto; font-size: 13px;"><code>// åŠ¨æ€æ›´æ–°é…ç½®
const component = new DiseaseBenefitComponent(config);
component.init();

// æ›´æ–°å›¾è¡¨ç±»å‹
component.updateConfig({
    chartType: 'line'
});

// æ›´æ–°æ•°æ®æº
component.updateConfig({
    apiUrl: '/api/disease-benefit-new'
});

// æ‰‹åŠ¨åˆ·æ–°æ•°æ®
component.refresh();

// å¯¼å‡ºå›¾è¡¨
component.export('png');

// é”€æ¯ç»„ä»¶
component.destroy();</code></pre>
                            </div>
                        </div>

                        <div class="tutorial-section">
                            <h4>â“ å¸¸è§é—®é¢˜</h4>
                            
                            <div style="margin: 15px 0;">
                                <strong>Q: å¦‚ä½•å¤„ç†å¤§é‡æ•°æ®çš„æ€§èƒ½é—®é¢˜ï¼Ÿ</strong><br>
                                A: ç»„ä»¶æ”¯æŒåˆ†é¡µåŠ è½½å’Œè™šæ‹Ÿæ»šåŠ¨ï¼Œå»ºè®®åç«¯å®ç°åˆ†é¡µæ¥å£ï¼Œå‰ç«¯è®¾ç½® <code>enablePagination: true</code>
                            </div>
                            
                            <div style="margin: 15px 0;">
                                <strong>Q: æ•°æ®æ›´æ–°é¢‘ç‡å¦‚ä½•æ§åˆ¶ï¼Ÿ</strong><br>
                                A: å¯ä»¥è®¾ç½® <code>autoRefresh: true</code> å’Œ <code>refreshInterval: 300000</code> (5åˆ†é’Ÿ) å®ç°è‡ªåŠ¨åˆ·æ–°
                            </div>
                            
                            <div style="margin: 15px 0;">
                                <strong>Q: å¦‚ä½•è‡ªå®šä¹‰å›¾è¡¨æ ·å¼ï¼Ÿ</strong><br>
                                A: é€šè¿‡ <code>chartOptions</code> å‚æ•°ä¼ å…¥EChartsé…ç½®ï¼Œæˆ–ä¿®æ”¹CSSå˜é‡è¦†ç›–é»˜è®¤æ ·å¼
                            </div>
                            
                            <div style="margin: 15px 0;">
                                <strong>Q: æ”¯æŒå“ªäº›æ•°æ®åº“ï¼Ÿ</strong><br>
                                A: ç»„ä»¶ä¸æ•°æ®åº“æ— å…³ï¼Œåªè¦åç«¯APIè¿”å›æŒ‡å®šæ ¼å¼çš„JSONæ•°æ®å³å¯ï¼Œæ”¯æŒMySQLã€PostgreSQLã€Oracleç­‰
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // æ˜¾ç¤ºæ¨¡æ€çª—å£
            setTimeout(() => {
                modal.classList.add('show');
            }, 10);
        }

        function copyUsage(componentId) {
            const component = componentLibrary.getComponentById(componentId);
            if (component && component.usage_example) {
                navigator.clipboard.writeText(component.usage_example).then(() => {
                    showNotification('ä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
                }).catch(() => {
                    showNotification('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶', 'error');
                });
            } else {
                showNotification('ä½¿ç”¨ç¤ºä¾‹æš‚æœªæä¾›', 'warning');
            }
        }

        function uploadComponent() {
            showNotification('æ­£åœ¨è·³è½¬åˆ°ä¸Šä¼ é¡µé¢...');
            setTimeout(() => {
                window.open('component-upload.html', '_blank');
            }, 500);
        }

        function manageVersions() {
            showNotification('æ­£åœ¨è·³è½¬åˆ°ç‰ˆæœ¬ç®¡ç†é¡µé¢...');
            setTimeout(() => {
                window.open('component-version.html', '_blank');
            }, 500);
        }

        function viewAnalytics() {
            showNotification('æ­£åœ¨è·³è½¬åˆ°ä½¿ç”¨åˆ†æé¡µé¢...');
            setTimeout(() => {
                window.open('component-analytics.html', '_blank');
            }, 500);
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 20px;
                border-radius: 8px;
                color: white;
                font-weight: 500;
                z-index: 1000;
                animation: slideIn 0.3s ease;
                background: ${type === 'success' ? '#28a745' : type === 'error' ? '#dc3545' : type === 'warning' ? '#ffc107' : '#17a2b8'};
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        let componentLibrary;
        document.addEventListener('DOMContentLoaded', function() {
            componentLibrary = new ComponentLibraryManager();
        });
    </script>
</body>
</html>