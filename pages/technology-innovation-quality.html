<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŠ€æœ¯åˆ›æ–°ä¸è´¨é‡æå‡ - åŒ»ç–—è´¨é‡å®‰å…¨ç›‘æµ‹ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/medical-quality-safety.css">
    <script src="./js/common.js"></script>
    <script src="./js/navigation-loader.js"></script>
    <script src="./js/medical-quality-components.js"></script>
    <script src="./js/medical-charts.js"></script>
    <script src="./js/medical-data-simulator.js"></script>
    <style>
        /* æŠ€æœ¯åˆ›æ–°é¡µé¢ä¸“ç”¨æ ·å¼ */
        .innovation-container {
            padding: 20px;
            background: #f8f9fa;
            min-height: 100vh;
        }

        .page-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
        }

        .page-header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 600;
        }

        .page-header .subtitle {
            margin: 10px 0 0 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .breadcrumb {
            margin-bottom: 30px;
        }

        .breadcrumb-list {
            display: flex;
            list-style: none;
            padding: 0;
            margin: 0;
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .breadcrumb-item {
            color: #6c757d;
            font-size: 14px;
        }

        .breadcrumb-item:last-child {
            color: #495057;
            font-weight: 500;
        }

        .breadcrumb-separator {
            margin: 0 10px;
            color: #dee2e6;
        }

        /* å®æ—¶ç›‘æ§é¢æ¿ */
        .real-time-panel {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-left: 4px solid #667eea;
        }

        .real-time-panel h3 {
            margin: 0 0 20px 0;
            color: #2c3e50;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .real-time-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .real-time-item {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            border: 1px solid #dee2e6;
            transition: all 0.3s ease;
        }

        .real-time-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .real-time-item .label {
            font-size: 0.9rem;
            color: #6c757d;
            margin-bottom: 8px;
        }

        .real-time-item .value {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2c3e50;
        }

        .real-time-item .unit {
            font-size: 0.8rem;
            color: #6c757d;
            margin-left: 4px;
        }

        /* ç»Ÿè®¡å¡ç‰‡ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .stat-title {
            font-size: 1rem;
            color: #6c757d;
            font-weight: 500;
        }

        .stat-icon {
            font-size: 1.5rem;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .stat-change {
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .stat-change.positive {
            color: #28a745;
        }

        .stat-change.negative {
            color: #dc3545;
        }

        /* ä¸»è¦å†…å®¹ç½‘æ ¼ */
        .main-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        /* å›¾è¡¨å®¹å™¨ */
        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f8f9fa;
        }

        .chart-title {
            margin: 0;
            color: #2c3e50;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .chart-controls {
            display: flex;
            gap: 10px;
        }

        .chart-control-btn {
            padding: 8px 16px;
            border: 2px solid #dee2e6;
            background: white;
            color: #6c757d;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .chart-control-btn:hover {
            border-color: #667eea;
            color: #667eea;
        }

        .chart-control-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: transparent;
        }

        .chart-wrapper {
            height: 400px;
            position: relative;
        }

        /* ä¾§è¾¹æ  */
        .sidebar-content {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .indicator-list {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .indicator-header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f8f9fa;
        }

        .indicator-header h3 {
            margin: 0 0 8px 0;
            color: #2c3e50;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .indicator-header p {
            margin: 0;
            color: #6c757d;
            font-size: 0.9rem;
        }

        .indicator-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f8f9fa;
            transition: all 0.3s ease;
        }

        .indicator-item:hover {
            background: #f8f9fa;
            margin: 0 -15px;
            padding: 15px;
            border-radius: 8px;
        }

        .indicator-item:last-child {
            border-bottom: none;
        }

        .indicator-name {
            font-size: 0.95rem;
            color: #495057;
            font-weight: 500;
        }

        .indicator-value {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .indicator-number {
            font-weight: 700;
            font-size: 1rem;
        }

        .indicator-number.excellent {
            color: #28a745;
        }

        .indicator-number.good {
            color: #17a2b8;
        }

        .indicator-number.warning {
            color: #ffc107;
        }

        .indicator-number.danger {
            color: #dc3545;
        }

        .indicator-trend {
            font-size: 0.8rem;
            font-weight: 600;
        }

        .indicator-trend.up {
            color: #28a745;
        }

        .indicator-trend.down {
            color: #dc3545;
        }

        .indicator-trend.stable {
            color: #6c757d;
        }

        /* åˆ›æ–°é¡¹ç›®çœ‹æ¿ */
        .innovation-kanban {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        .kanban-header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f8f9fa;
        }

        .kanban-header h3 {
            margin: 0;
            color: #2c3e50;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .kanban-board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            min-height: 300px;
        }

        .kanban-column {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            border: 2px dashed #dee2e6;
        }

        .kanban-column-header {
            text-align: center;
            font-weight: 600;
            color: #495057;
            margin-bottom: 15px;
            padding: 10px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .kanban-card {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: move;
            transition: all 0.3s ease;
            border-left: 4px solid #667eea;
        }

        .kanban-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }

        .kanban-card-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .kanban-card-meta {
            font-size: 0.8rem;
            color: #6c757d;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .kanban-card-priority {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .kanban-card-priority.high {
            background: #ffe6e6;
            color: #dc3545;
        }

        .kanban-card-priority.medium {
            background: #fff3cd;
            color: #ffc107;
        }

        .kanban-card-priority.low {
            background: #d4edda;
            color: #28a745;
        }

        /* æŠ€æœ¯æˆç†Ÿåº¦çŸ©é˜µ */
        .maturity-matrix {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .matrix-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .matrix-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            border: 2px solid #dee2e6;
            transition: all 0.3s ease;
        }

        .matrix-item:hover {
            border-color: #667eea;
            background: #e7f3ff;
        }

        .matrix-item-level {
            font-size: 1.5rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 10px;
        }

        .matrix-item-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .matrix-item-count {
            font-size: 1.2rem;
            font-weight: 700;
            color: #495057;
        }

        /* æ•°æ®è¡¨æ ¼ */
        .data-table {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f8f9fa;
        }

        .table-header h3 {
            margin: 0;
            color: #2c3e50;
            font-size: 1.3rem;
            font-weight: 600;
        }

        .table-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            padding: 10px 40px 10px 15px;
            border: 2px solid #dee2e6;
            border-radius: 25px;
            font-size: 0.9rem;
            width: 250px;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #6c757d;
        }

        .filter-select {
            padding: 10px 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 0.9rem;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-select:focus {
            outline: none;
            border-color: #667eea;
        }

        .table-wrapper {
            overflow-x: auto;
        }

        .quality-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .quality-table th {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            color: #495057;
            font-weight: 600;
            padding: 15px 12px;
            text-align: left;
            border-bottom: 2px solid #dee2e6;
            white-space: nowrap;
        }

        .quality-table td {
            padding: 15px 12px;
            border-bottom: 1px solid #f8f9fa;
            color: #495057;
        }

        .quality-table tbody tr {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .quality-table tbody tr:hover {
            background: #f8f9fa;
        }

        .quality-table tbody tr.selected {
            background: #e7f3ff;
            border-left: 4px solid #667eea;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-align: center;
            display: inline-block;
            min-width: 60px;
        }

        .status-badge.excellent {
            background: #d4edda;
            color: #155724;
        }

        .status-badge.good {
            background: #cce7ff;
            color: #004085;
        }

        .status-badge.warning {
            background: #fff3cd;
            color: #856404;
        }

        .status-badge.danger {
            background: #f8d7da;
            color: #721c24;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1200px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .kanban-board {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .innovation-container {
                padding: 15px;
            }
            
            .page-header {
                padding: 20px;
            }
            
            .page-header h1 {
                font-size: 2rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .kanban-board {
                grid-template-columns: 1fr;
            }
            
            .matrix-grid {
                grid-template-columns: 1fr;
            }
            
            .table-controls {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }
            
            .search-box input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- ç»Ÿä¸€å¯¼èˆªç»„ä»¶ -->
    <div id="navigation-container"></div>
    
    <div class="container">
        <div class="main-content">
            <div class="content-wrapper">
                <main class="content">
                    <div class="innovation-container">
                        <!-- é¡µé¢æ ‡é¢˜ -->
                        <div class="page-header">
                            <h1>æŠ€æœ¯åˆ›æ–°ä¸è´¨é‡æå‡</h1>
                            <div class="subtitle">Technology Innovation and Quality Improvement</div>
                        </div>

                        <!-- é¢åŒ…å±‘å¯¼èˆª -->
                        <div class="breadcrumb">
                            <ul class="breadcrumb-list">
                                <li class="breadcrumb-item">é¦–é¡µ</li>
                                <li class="breadcrumb-separator">/</li>
                                <li class="breadcrumb-item">åŒ»ç–—è´¨é‡å®‰å…¨ç›‘æµ‹</li>
                                <li class="breadcrumb-separator">/</li>
                                <li class="breadcrumb-item">æŠ€æœ¯åˆ›æ–°ä¸è´¨é‡æå‡</li>
                            </ul>
                        </div>

                        <!-- å®æ—¶ç›‘æ§é¢æ¿ -->
                        <div class="real-time-panel">
                            <h3>ğŸ”¬ å®æ—¶åˆ›æ–°ç›‘æ§</h3>
                            <div class="real-time-grid" id="realTimeGrid">
                                <!-- åŠ¨æ€ç”Ÿæˆå®æ—¶æ•°æ® -->
                            </div>
                        </div>

                        <!-- ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ -->
                        <div class="stats-grid" id="statsGrid">
                            <!-- åŠ¨æ€ç”Ÿæˆç»Ÿè®¡å¡ç‰‡ -->
                        </div>

                        <!-- ä¸»è¦å†…å®¹ç½‘æ ¼ -->
                        <div class="main-grid">
                            <!-- å›¾è¡¨åŒºåŸŸ -->
                            <div class="chart-container">
                                <div class="chart-header">
                                    <h3 class="chart-title">æŠ€æœ¯åˆ›æ–°è¶‹åŠ¿åˆ†æ</h3>
                                    <div class="chart-controls">
                                        <button class="chart-control-btn active" data-type="trend">è¶‹åŠ¿åˆ†æ</button>
                                        <button class="chart-control-btn" data-type="comparison">å¯¹æ¯”åˆ†æ</button>
                                        <button class="chart-control-btn" data-type="impact">å½±å“è¯„ä¼°</button>
                                    </div>
                                </div>
                                <div class="chart-wrapper">
                                    <div id="innovationTrendChart" style="width: 100%; height: 100%;"></div>
                                </div>
                            </div>

                            <!-- ä¾§è¾¹æ  -->
                            <div class="sidebar-content">
                                <!-- æŒ‡æ ‡åˆ—è¡¨ -->
                                <div class="indicator-list">
                                    <div class="indicator-header">
                                        <h3>åˆ›æ–°è´¨é‡æŒ‡æ ‡</h3>
                                        <p>å®æ—¶ç›‘æ§æŠ€æœ¯åˆ›æ–°å…³é”®æŒ‡æ ‡</p>
                                    </div>
                                    <div id="indicatorList">
                                        <!-- åŠ¨æ€ç”ŸæˆæŒ‡æ ‡åˆ—è¡¨ -->
                                    </div>
                                </div>

                                <!-- æŠ€æœ¯æˆç†Ÿåº¦çŸ©é˜µ -->
                                <div class="maturity-matrix">
                                    <div class="indicator-header">
                                        <h3>æŠ€æœ¯æˆç†Ÿåº¦åˆ†å¸ƒ</h3>
                                        <p>TRLç­‰çº§é¡¹ç›®åˆ†å¸ƒæƒ…å†µ</p>
                                    </div>
                                    <div class="matrix-grid" id="maturityMatrix">
                                        <!-- åŠ¨æ€ç”Ÿæˆæˆç†Ÿåº¦çŸ©é˜µ -->
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- åˆ›æ–°é¡¹ç›®çœ‹æ¿ -->
                        <div class="innovation-kanban">
                            <div class="kanban-header">
                                <h3>ğŸš€ åˆ›æ–°é¡¹ç›®ç®¡ç†çœ‹æ¿</h3>
                            </div>
                            <div class="kanban-board" id="kanbanBoard">
                                <!-- åŠ¨æ€ç”Ÿæˆçœ‹æ¿ -->
                            </div>
                        </div>

                        <!-- è¯¦ç»†æ•°æ®è¡¨æ ¼ -->
                        <div class="data-table">
                            <div class="table-header">
                                <h3>ç§‘å®¤æŠ€æœ¯åˆ›æ–°è¯¦ç»†æ•°æ®</h3>
                                <div class="table-controls">
                                    <div class="search-box">
                                        <input type="text" placeholder="æœç´¢ç§‘å®¤æˆ–é¡¹ç›®..." id="searchInput">
                                        <span class="search-icon">ğŸ”</span>
                                    </div>
                                    <select class="filter-select" id="departmentFilter">
                                        <option value="all">å…¨éƒ¨ç§‘å®¤</option>
                                        <option value="surgical">å¤–ç§‘ç³»ç»Ÿ</option>
                                        <option value="internal">å†…ç§‘ç³»ç»Ÿ</option>
                                        <option value="diagnostic">åŒ»æŠ€ç§‘å®¤</option>
                                        <option value="emergency">æ€¥è¯Šç§‘</option>
                                    </select>
                                </div>
                            </div>
                            <div class="table-wrapper">
                                <table class="quality-table">
                                    <thead>
                                        <tr>
                                            <th>ç§‘å®¤åç§°</th>
                                            <th>æ–°æŠ€æœ¯åº”ç”¨æˆåŠŸç‡</th>
                                            <th>è´¨é‡æ”¹è¿›å®Œæˆç‡</th>
                                            <th>æŠ€æœ¯å‡†å…¥åˆè§„ç‡</th>
                                            <th>åŸ¹è®­è¦†ç›–ç‡</th>
                                            <th>æˆæœè½¬åŒ–ç‡</th>
                                            <th>ç»¼åˆè¯„çº§</th>
                                        </tr>
                                    </thead>
                                    <tbody id="dataTableBody">
                                        <!-- åŠ¨æ€ç”Ÿæˆè¡¨æ ¼æ•°æ® -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <script>
        // æŠ€æœ¯åˆ›æ–°ç›‘æ§ç±»
        class TechnologyInnovationMonitor {
            constructor() {
                this.charts = {};
                this.data = null;
                this.init();
            }

            async init() {
                try {
                    console.log('å¼€å§‹åˆå§‹åŒ–æŠ€æœ¯åˆ›æ–°ä¸è´¨é‡æå‡ç›‘æ§é¡µé¢...');
                    
                    // ç¡®ä¿EChartså·²åŠ è½½
                    await Common.ensureEcharts();
                    
                    // ç­‰å¾…æ•°æ®æ¨¡æ‹Ÿå™¨å‡†å¤‡å°±ç»ª
                    if (typeof window.MedicalDataSimulator !== 'undefined') {
                        window.medicalDataSimulator = new window.MedicalDataSimulator();
                    }
                    
                    await this.loadData();
                    this.generateRealTimeData();
                    this.generateStatisticalCards();
                    this.generateIndicatorList();
                    this.generateMaturityMatrix();
                    this.generateKanbanBoard();
                    this.generateDataTable();
                    this.initCharts();
                    this.bindEvents();
                    
                    // å¯åŠ¨å®æ—¶æ•°æ®æ›´æ–°
                    setInterval(() => this.updateRealTimeData(), 30000);
                    
                    console.log('æŠ€æœ¯åˆ›æ–°ä¸è´¨é‡æå‡ç›‘æ§é¡µé¢åˆå§‹åŒ–å®Œæˆ');
                } catch (error) {
                    console.error('æŠ€æœ¯åˆ›æ–°ä¸è´¨é‡æå‡ç›‘æ§é¡µé¢åˆå§‹åŒ–å¤±è´¥:', error);
                }
            }

            async loadData() {
                // æ¨¡æ‹ŸåŠ è½½æŠ€æœ¯åˆ›æ–°æ•°æ®
                this.data = window.medicalDataSimulator ? 
                    window.medicalDataSimulator.generateTechnologyInnovationData() : 
                    this.getDefaultData();
            }

            generateRealTimeData() {
                const realTimeGrid = document.getElementById('realTimeGrid');
                const realTimeData = this.data.realTimeData;
                
                realTimeGrid.innerHTML = `
                    <div class="real-time-item">
                        <div class="label">è¿›è¡Œä¸­é¡¹ç›®</div>
                        <div class="value">${realTimeData.activeProjects}<span class="unit">ä¸ª</span></div>
                    </div>
                    <div class="real-time-item">
                        <div class="label">æœ¬æœˆæ–°æŠ€æœ¯åº”ç”¨</div>
                        <div class="value">${realTimeData.newTechnologies}<span class="unit">é¡¹</span></div>
                    </div>
                    <div class="real-time-item">
                        <div class="label">è´¨é‡æ”¹è¿›æªæ–½</div>
                        <div class="value">${realTimeData.improvementMeasures}<span class="unit">é¡¹</span></div>
                    </div>
                    <div class="real-time-item">
                        <div class="label">å¹³å‡é¡¹ç›®å‘¨æœŸ</div>
                        <div class="value">${realTimeData.averageProjectCycle}<span class="unit">å¤©</span></div>
                    </div>
                    <div class="real-time-item">
                        <div class="label">æŠ€æœ¯åŸ¹è®­äººæ¬¡</div>
                        <div class="value">${realTimeData.trainingParticipants}<span class="unit">äºº</span></div>
                    </div>
                    <div class="real-time-item">
                        <div class="label">æˆæœè½¬åŒ–ç‡</div>
                        <div class="value">${realTimeData.conversionRate}<span class="unit">%</span></div>
                    </div>
                `;
            }

            generateStatisticalCards() {
                const statsGrid = document.getElementById('statsGrid');
                const cards = this.data.statisticalCards;
                
                statsGrid.innerHTML = cards.map(card => `
                    <div class="stat-card" data-title="${card.title}">
                        <div class="stat-header">
                            <div class="stat-title">${card.title}</div>
                            <div class="stat-icon">ğŸ”¬</div>
                        </div>
                        <div class="stat-value">${card.value}${card.unit}</div>
                        <div class="stat-change ${card.trend}">
                            ${card.trend === 'up' ? 'â†‘' : card.trend === 'down' ? 'â†“' : 'â†’'} 
                            ${card.change}${card.unit} è¾ƒä¸Šæœˆ
                        </div>
                    </div>
                `).join('');
            }

            generateIndicatorList() {
                const indicatorList = document.getElementById('indicatorList');
                const indicators = this.data.indicators;
                
                indicatorList.innerHTML = indicators.map(indicator => `
                    <div class="indicator-item">
                        <div class="indicator-name">${indicator.name}</div>
                        <div class="indicator-value">
                            <span class="indicator-number ${indicator.status}">${indicator.value}${indicator.unit}</span>
                            <span class="indicator-trend ${indicator.trend === 'up' ? 'up' : indicator.trend === 'down' ? 'down' : 'stable'}">
                                ${indicator.trend === 'up' ? 'â†‘' : indicator.trend === 'down' ? 'â†“' : 'â†’'}
                            </span>
                        </div>
                    </div>
                `).join('');
            }

            generateMaturityMatrix() {
                const maturityMatrix = document.getElementById('maturityMatrix');
                const maturityData = this.data.maturityLevels;
                
                maturityMatrix.innerHTML = maturityData.map(level => `
                    <div class="matrix-item">
                        <div class="matrix-item-level">TRL${level.level}</div>
                        <div class="matrix-item-title">${level.name}</div>
                        <div class="matrix-item-count">${level.count}é¡¹</div>
                    </div>
                `).join('');
            }

            generateKanbanBoard() {
                const kanbanBoard = document.getElementById('kanbanBoard');
                const stages = ['ç«‹é¡¹', 'ç ”å‘', 'è¯•ç‚¹', 'æ¨å¹¿', 'è¯„ä¼°'];
                const projects = this.data.projects;
                
                kanbanBoard.innerHTML = stages.map(stage => {
                    const stageProjects = projects.filter(p => p.stage === stage);
                    return `
                        <div class="kanban-column">
                            <div class="kanban-column-header">${stage} (${stageProjects.length})</div>
                            ${stageProjects.map(project => `
                                <div class="kanban-card" data-id="${project.id}">
                                    <div class="kanban-card-title">${project.name}</div>
                                    <div class="kanban-card-meta">
                                        <span>${project.department}</span>
                                        <span class="kanban-card-priority ${project.priority}">${project.priority}</span>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                }).join('');
            }

            generateDataTable() {
                const tableBody = document.getElementById('dataTableBody');
                const departments = this.data.departmentData;
                
                tableBody.innerHTML = departments.map(dept => `
                    <tr data-department="${dept.name}">
                        <td>${dept.name}</td>
                        <td>${dept.newTechnologySuccess}%</td>
                        <td>${dept.improvementCompletion}%</td>
                        <td>${dept.complianceRate}%</td>
                        <td>${dept.trainingCoverage}%</td>
                        <td>${dept.conversionRate}%</td>
                        <td><span class="status-badge ${dept.rating}">${dept.ratingText}</span></td>
                    </tr>
                `).join('');
            }

            initCharts() {
                this.initTrendChart();
            }

            initTrendChart() {
                const chartContainer = document.getElementById('innovationTrendChart');
                this.charts.trend = echarts.init(chartContainer);
                
                const option = {
                    title: {
                        text: 'æŠ€æœ¯åˆ›æ–°æŒ‡æ ‡æœˆåº¦è¶‹åŠ¿',
                        left: 'center',
                        textStyle: {
                            fontSize: 16,
                            fontWeight: 'normal',
                            color: '#2c3e50'
                        }
                    },
                    tooltip: {
                        trigger: 'axis',
                        axisPointer: {
                            type: 'cross'
                        }
                    },
                    legend: {
                        data: ['æ–°æŠ€æœ¯åº”ç”¨æˆåŠŸç‡', 'è´¨é‡æ”¹è¿›å®Œæˆç‡', 'æŠ€æœ¯å‡†å…¥åˆè§„ç‡', 'æˆæœè½¬åŒ–ç‡'],
                        bottom: 10
                    },
                    grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '15%',
                        top: '15%',
                        containLabel: true
                    },
                    xAxis: {
                        type: 'category',
                        boundaryGap: false,
                        data: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ']
                    },
                    yAxis: {
                        type: 'value',
                        min: 70,
                        max: 100,
                        axisLabel: {
                            formatter: '{value}%'
                        }
                    },
                    series: [
                        {
                            name: 'æ–°æŠ€æœ¯åº”ç”¨æˆåŠŸç‡',
                            type: 'line',
                            smooth: true,
                            data: [85.2, 86.8, 87.1, 88.5, 89.9, 91.3, 92.7, 94.0, 95.1, 96.3, 97.1, 97.8],
                            itemStyle: { color: '#667eea' },
                            areaStyle: { opacity: 0.3 }
                        },
                        {
                            name: 'è´¨é‡æ”¹è¿›å®Œæˆç‡',
                            type: 'line',
                            smooth: true,
                            data: [88.5, 89.1, 89.5, 90.8, 91.2, 92.6, 93.0, 93.3, 94.5, 94.8, 95.2, 95.8],
                            itemStyle: { color: '#764ba2' },
                            areaStyle: { opacity: 0.3 }
                        },
                        {
                            name: 'æŠ€æœ¯å‡†å…¥åˆè§„ç‡',
                            type: 'line',
                            smooth: true,
                            data: [82.8, 83.2, 84.5, 85.8, 86.2, 87.5, 88.8, 89.0, 90.0, 91.2, 91.8, 92.5],
                            itemStyle: { color: '#f093fb' },
                            areaStyle: { opacity: 0.3 }
                        },
                        {
                            name: 'æˆæœè½¬åŒ–ç‡',
                            type: 'line',
                            smooth: true,
                            data: [75.1, 76.8, 78.5, 79.2, 80.9, 82.5, 83.1, 84.7, 85.0, 86.3, 87.1, 88.5],
                            itemStyle: { color: '#f093fb' },
                            areaStyle: { opacity: 0.3 }
                        }
                    ]
                };
                
                this.charts.trend.setOption(option);
            }

            bindEvents() {
                // å›¾è¡¨æ§åˆ¶æŒ‰é’®äº‹ä»¶
                document.querySelectorAll('.chart-control-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.chart-control-btn').forEach(b => b.classList.remove('active'));
                        e.target.classList.add('active');
                        
                        const type = e.target.dataset.type;
                        this.switchChartType(type);
                    });
                });

                // ç»Ÿè®¡å¡ç‰‡ç‚¹å‡»äº‹ä»¶
                document.querySelectorAll('.stat-card').forEach(card => {
                    card.addEventListener('click', (e) => {
                        const title = e.currentTarget.dataset.title;
                        console.log(`é€‰ä¸­ç»Ÿè®¡å¡ç‰‡: ${title}`);
                        this.highlightRelatedData(title);
                    });
                });

                // è¡¨æ ¼æœç´¢åŠŸèƒ½
                const searchInput = document.getElementById('searchInput');
                searchInput.addEventListener('input', (e) => {
                    this.filterTable(e.target.value);
                });

                // ç§‘å®¤ç­›é€‰åŠŸèƒ½
                const departmentFilter = document.getElementById('departmentFilter');
                departmentFilter.addEventListener('change', (e) => {
                    this.filterByDepartment(e.target.value);
                });

                // è¡¨æ ¼è¡Œç‚¹å‡»äº‹ä»¶
                document.querySelectorAll('#dataTableBody tr').forEach(row => {
                    row.addEventListener('click', (e) => {
                        document.querySelectorAll('#dataTableBody tr').forEach(r => r.classList.remove('selected'));
                        e.currentTarget.classList.add('selected');
                        
                        const department = e.currentTarget.dataset.department;
                        console.log(`é€‰ä¸­ç§‘å®¤: ${department}`);
                    });
                });

                // å“åº”å¼å¤„ç†
                window.addEventListener('resize', () => {
                    Object.values(this.charts).forEach(chart => {
                        if (chart && chart.resize) {
                            chart.resize();
                        }
                    });
                });
            }

            switchChartType(type) {
                // æ ¹æ®ç±»å‹åˆ‡æ¢å›¾è¡¨æ˜¾ç¤º
                console.log(`åˆ‡æ¢å›¾è¡¨ç±»å‹: ${type}`);
                // è¿™é‡Œå¯ä»¥å®ç°ä¸åŒç±»å‹çš„å›¾è¡¨åˆ‡æ¢é€»è¾‘
            }

            highlightRelatedData(title) {
                // é«˜äº®ç›¸å…³æ•°æ®
                console.log(`é«˜äº®ç›¸å…³æ•°æ®: ${title}`);
            }

            filterTable(searchTerm) {
                const rows = document.querySelectorAll('#dataTableBody tr');
                rows.forEach(row => {
                    const text = row.textContent.toLowerCase();
                    const visible = text.includes(searchTerm.toLowerCase());
                    row.style.display = visible ? '' : 'none';
                });
            }

            filterByDepartment(department) {
                const rows = document.querySelectorAll('#dataTableBody tr');
                rows.forEach(row => {
                    if (department === 'all') {
                        row.style.display = '';
                    } else {
                        const deptName = row.dataset.department;
                        const visible = this.matchesDepartmentType(deptName, department);
                        row.style.display = visible ? '' : 'none';
                    }
                });
            }

            matchesDepartmentType(deptName, type) {
                const typeMap = {
                    'surgical': ['å¿ƒè¡€ç®¡å¤–ç§‘', 'ç¥ç»å¤–ç§‘', 'æ™®å¤–ç§‘', 'éª¨ç§‘'],
                    'internal': ['å¿ƒå†…ç§‘', 'ç¥ç»å†…ç§‘', 'å‘¼å¸ç§‘', 'æ¶ˆåŒ–ç§‘'],
                    'diagnostic': ['å½±åƒç§‘', 'æ£€éªŒç§‘', 'ç—…ç†ç§‘'],
                    'emergency': ['æ€¥è¯Šç§‘', 'é‡ç—‡åŒ»å­¦ç§‘']
                };
                
                return typeMap[type] ? typeMap[type].includes(deptName) : false;
            }

            updateRealTimeData() {
                // æ›´æ–°å®æ—¶æ•°æ®
                this.loadData().then(() => {
                    this.generateRealTimeData();
                });
            }

            getDefaultData() {
                return {
                    realTimeData: {
                        activeProjects: 24,
                        newTechnologies: 8,
                        improvementMeasures: 15,
                        averageProjectCycle: 45,
                        trainingParticipants: 156,
                        conversionRate: 88.5
                    },
                    statisticalCards: [
                        { title: 'æ–°æŠ€æœ¯åº”ç”¨æˆåŠŸç‡', value: 97.8, unit: '%', trend: 'up', change: 2.5 },
                        { title: 'è´¨é‡æ”¹è¿›å®Œæˆç‡', value: 95.8, unit: '%', trend: 'up', change: 1.7 },
                        { title: 'æŠ€æœ¯å‡†å…¥åˆè§„ç‡', value: 92.5, unit: '%', trend: 'down', change: 0.8 },
                        { title: 'æˆæœè½¬åŒ–ç‡', value: 88.5, unit: '%', trend: 'up', change: 3.1 }
                    ],
                    indicators: [
                        { name: 'æ–°æŠ€æœ¯åº”ç”¨æˆåŠŸç‡', value: 97.8, unit: '%', status: 'excellent', trend: 'up' },
                        { name: 'è´¨é‡æ”¹è¿›å®Œæˆç‡', value: 95.8, unit: '%', status: 'excellent', trend: 'up' },
                        { name: 'æŠ€æœ¯å‡†å…¥åˆè§„ç‡', value: 92.5, unit: '%', status: 'good', trend: 'down' },
                        { name: 'åŸ¹è®­è¦†ç›–ç‡', value: 96.8, unit: '%', status: 'excellent', trend: 'stable' },
                        { name: 'æˆæœè½¬åŒ–ç‡', value: 88.5, unit: '%', status: 'good', trend: 'up' },
                        { name: 'åˆ›æ–°æŠ•å…¥äº§å‡ºæ¯”', value: 3.2, unit: ':1', status: 'good', trend: 'up' }
                    ],
                    maturityLevels: [
                        { level: '7-9', name: 'æŠ€æœ¯æˆç†Ÿ', count: 12 },
                        { level: '4-6', name: 'æŠ€æœ¯éªŒè¯', count: 18 },
                        { level: '1-3', name: 'æ¦‚å¿µéªŒè¯', count: 8 }
                    ],
                    projects: [
                        { id: 1, name: 'å¾®åˆ›æ‰‹æœ¯æœºå™¨äºº', department: 'å¿ƒè¡€ç®¡å¤–ç§‘', stage: 'ç«‹é¡¹', priority: 'high' },
                        { id: 2, name: 'AIè¾…åŠ©è¯Šæ–­ç³»ç»Ÿ', department: 'å½±åƒç§‘', stage: 'ç ”å‘', priority: 'high' },
                        { id: 3, name: 'è¿œç¨‹ç›‘æŠ¤å¹³å°', department: 'ICU', stage: 'è¯•ç‚¹', priority: 'medium' },
                        { id: 4, name: 'æ™ºèƒ½è¯ç‰©é…é€', department: 'è¯å‰‚ç§‘', stage: 'æ¨å¹¿', priority: 'low' },
                        { id: 5, name: 'æ•°å­—åŒ–ç—…ç†', department: 'ç—…ç†ç§‘', stage: 'è¯„ä¼°', priority: 'medium' }
                    ],
                    departmentData: [
                        { name: 'å¿ƒè¡€ç®¡å¤–ç§‘', newTechnologySuccess: 98.9, improvementCompletion: 97.5, complianceRate: 95.8, trainingCoverage: 98.2, conversionRate: 92.1, rating: 'excellent', ratingText: 'ä¼˜ç§€' },
                        { name: 'ç¥ç»å¤–ç§‘', newTechnologySuccess: 97.8, improvementCompletion: 95.3, complianceRate: 93.7, trainingCoverage: 96.8, conversionRate: 88.5, rating: 'excellent', ratingText: 'ä¼˜ç§€' },
                        { name: 'å½±åƒç§‘', newTechnologySuccess: 96.5, improvementCompletion: 93.8, complianceRate: 91.2, trainingCoverage: 95.1, conversionRate: 85.7, rating: 'good', ratingText: 'è‰¯å¥½' },
                        { name: 'æ£€éªŒç§‘', newTechnologySuccess: 95.2, improvementCompletion: 92.1, complianceRate: 89.5, trainingCoverage: 94.3, conversionRate: 82.9, rating: 'good', ratingText: 'è‰¯å¥½' },
                        { name: 'æ€¥è¯Šç§‘', newTechnologySuccess: 93.7, improvementCompletion: 90.8, complianceRate: 87.2, trainingCoverage: 92.5, conversionRate: 79.3, rating: 'warning', ratingText: 'å¾…æ”¹è¿›' }
                    ]
                };
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–æ•°æ®æ¨¡æ‹Ÿå™¨
            if (typeof window.MedicalDataSimulator !== 'undefined') {
                window.medicalDataSimulator = new window.MedicalDataSimulator();
            }
            
            // åˆå§‹åŒ–æŠ€æœ¯åˆ›æ–°ç›‘æ§
            window.technologyInnovationMonitor = new TechnologyInnovationMonitor();
        });
    </script>
</body>
</html>