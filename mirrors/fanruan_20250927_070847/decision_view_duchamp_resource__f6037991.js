/*! time: 2025/9/2 15:53:22; branch: master describe: a5a458eaa commit: a5a458eaa9bf68029f66b1a68081ce87c8783674 */
var e=Object.defineProperty,t=(t,n,a)=>((t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a)(t,"symbol"!=typeof n?n+"":n,a);import{R as n,cD as a,_ as r,r as s,cE as i,cF as c,b as o,cG as l,d as u,c as d,cH as m,i as h,t as p,V as v,cI as f,cJ as g,cK as y,cL as b,cM as w,cN as E,cO as C,u as k,aR as N,O,cP as z,L as x,bE as R,cQ as L,cR as j,bI as S,ck as P,e as M,q as I,cS as A,aV as K,cT as D,cU as W}from"./resource?resource=/com/fr/plugin/wysiwyg/web/static/js/utils-hash-BZGqdNop.js";import{i as V}from"./resource?resource=/com/fr/plugin/wysiwyg/web/static/js/indexOf-hash-DlluUZiX.js";import{bq as B,br as H,bs as T,X as F,a as _}from"./resource?resource=/com/fr/plugin/wysiwyg/web/static/js/setAppConfig-hash-DSmqnnw2.js";var U=function(e,t){return n.createElement(a,r({},e,{ref:t,name:"VerticalLeftOutlined",icon:n.createElement("svg",{viewBox:"0 0 1024 1024"},n.createElement("path",{d:"M763.2 769.6c16 16 16 41.6 0 56-8 8-17.6 11.2-28.8 11.2s-20.8-3.2-28.8-11.2L420.8 540.8c-8-8-11.2-17.6-11.2-28.8s4.8-20.8 11.2-28.8l284.8-284.8c16-16 41.6-16 56 0 16 16 16 41.6 0 56L505.6 512l257.6 257.6zM321.6 172.8c-22.4 0-40 17.6-40 40v598.4c0 22.4 17.6 40 40 40s40-17.6 40-40V212.8c0-22.4-17.6-40-40-40z"}))}))};U.displayName="VerticalLeftOutlined";const q=n.memo(n.forwardRef(U));var J=function(e,t){return n.createElement(a,r({},e,{ref:t,name:"VerticalRightOutlined",icon:n.createElement("svg",{viewBox:"0 0 1024 1024"},n.createElement("path",{d:"M260.8 254.4c-16-16-16-41.6 0-56 8-8 17.6-11.2 28.8-11.2s20.8 3.2 28.8 11.2l284.8 284.8c8 8 11.2 17.6 11.2 28.8s-4.8 20.8-11.2 28.8L318.4 825.6c-16 16-41.6 16-56 0-16-16-16-41.6 0-56l256-257.6-257.6-257.6zm441.6 596.8c22.4 0 40-17.6 40-40V212.8c0-22.4-17.6-40-40-40s-40 17.6-40 40v598.4c0 22.4 17.6 40 40 40z"}))}))};J.displayName="VerticalRightOutlined";const Q=n.memo(n.forwardRef(J));var X=function(e,t){return h(t)?Number.MAX_VALUE:Math.max(Math.ceil(t/e),1)},G=function(e){var t=e.count,a=e.size,C=void 0===a?20:a,k=e.page,N=void 0===k?1:k,O=e.sizeSet,z=void 0===O?[20,50,100]:O,x=e.isLastPage,R=void 0!==x&&x,L=e.showQuickJumper,j=void 0===L||L,S=e.theme,P=void 0===S?"default":S,M=e.style,I=e.className,A=e.id,K=e.hasTurnLast,D=e.dropdownClassName,W=e.placement,V=e.controlSize,B=void 0===V?"middle":V,H=e.prefixCls,T=e.pageInputWidth,F=e.showCurrentPage,_=e.showPageSize,U=e.showTotal,J=e.onSizeChange,G=e.onPageChange,Y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["count","size","page","sizeSet","isLastPage","showQuickJumper","theme","style","className","id","hasTurnLast","dropdownClassName","placement","controlSize","prefixCls","pageInputWidth","showCurrentPage","showPageSize","showTotal","onSizeChange","onPageChange"]),Z=s.useContext(i).pagination,$=c("pagination"),ee=o($,1)[0],te=s.useRef(),ne=s.useState(C),ae=o(ne,2),re=ae[0],se=ae[1],ie=s.useState(N),ce=o(ie,2),oe=ce[0],le=ce[1],ue=l(B),de=u("pagination",H),me="default"===P?"default":"bordered";s.useEffect((function(){var e=X(re,t);le(N<=e?N:e)}),[N,re,t]),s.useEffect((function(){re!==C&&(se(C),null==J||J(C))}),[C]);var he,pe,ve=function(){N<=1||be(1)},fe=function(){if(!h(t)&&!R){var e=Math.ceil(t/re);N>=e||be(e)}},ge=function(){N<=1||be(N-1)},ye=function(){if(!h(t)){var e=Math.ceil(t/re);if(N>=e)return}R||be(N+1)},be=function(e){G&&G(e),le(e)},we=function(e){le(e)},Ee=function(e){be(e)},Ce=function(){te.current&&te.current.blur()},ke=Object.assign(Object.assign({},null==Z?void 0:Z.style),M);return n.createElement("div",r({className:d(de,m({},"".concat(ue),"small"===ue),I,null==Z?void 0:Z.className),id:A,style:ke},Y),n.createElement("div",{className:"pagination-left"},function(){if(p(_)){var e=v(z,(function(e){return{label:_(e)||"",value:e}}));return n.createElement(f,{size:ue,className:d("size-combo",me),options:e,value:re,placeholder:W,onChange:function(e){var n,a;(a=X(n=e,t))<oe&&(le(a),G&&G(oe)),se(n),J&&J(n)},dropdownClassName:D})}}(),n.createElement("span",{className:"count"},p(U)?U(t):"")),n.createElement("div",{className:"pagination-right"},(pe=[],K&&pe.push(n.createElement("div",{key:"first",className:d("page-turn-first",me,{"page-btn-disabled":N<=1}),onClick:ve},n.createElement(q,null))),pe.push(n.createElement("div",{key:"pre",className:d("page-turn-pre",me,{"page-btn-disabled":N<=1}),onClick:ge},n.createElement(b,null))),n.createElement("div",{className:d("page-turn","page-turn-left",{jumpable:2===w(pe)})},pe)),(he=X(re,t),p(F)?F(N,h(t)?void 0:he):h(t)?void 0:n.createElement("div",{className:"page-jump"},j?n.createElement(n.Fragment,null,n.createElement("div",{className:d("page-input-wrapper",me)},n.createElement(g,{className:"page-input",value:oe,min:1,max:he,size:"small"===ue?"small":"normal",hasControlBtn:!1,onChange:we,onBlur:Ee,onPressEnter:Ce,ref:te}),n.createElement("div",{className:d("fake-placeholder",{"placeholder-limit":!T}),style:{width:T}},oe)),n.createElement("span",{className:"total-page"}," / ".concat(he))):n.createElement("span",{className:"jump-page"},y.replaceLocale(ee.currentPage,{page:oe})))),function(){var e=X(re,t),a=N>=e||R,r=[];return r.push(n.createElement("div",{key:"next",className:d("page-turn-next",me,{"page-btn-disabled":a}),onClick:ye},n.createElement(E,null))),!h(t)&&K&&j&&r.push(n.createElement("div",{key:"last",className:d("page-turn-last",me,{"page-btn-disabled":a}),onClick:fe},n.createElement(Q,null))),n.createElement("div",{className:d("page-turn","page-turn-right",{jumpable:2===w(r)})},r)}()))};function Y(e,t,n){var a=n&&"object"===C(n)?n:{},r=a.count,i=void 0===r?0:r,c=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(a,["count"]),l=s.useState({page:1,size:10}),u=o(l,2),d=u[0],m=u[1],h=Object.assign(Object.assign(Object.assign({},d),c),{count:i>0?i:e}),p=Math.ceil((i||e)/h.size);h.page>p&&(h.page=p||1);var v=function(e,t){m({page:null!=e?e:1,size:t||h.size})};return!1===n?[{},function(){}]:[Object.assign(Object.assign({},h),{onPageChange:function(e){var a;n&&(null===(a=n.onPageChange)||void 0===a||a.call(n,e)),v(e),null==t||t(e,null==h?void 0:h.size)}}),v]}var Z={small:10,default:10,large:12},$=function(e){var t=e.dataSource,a=void 0===t?[]:t,i=e.columns,c=void 0===i?[]:i,m=e.rowSelection,p=void 0===m?{}:m,f=e.getRowKey,g=e.size,y=e.hasBorder,b=e.hasStripe,w=e.className,E=e.id,C=e.simple,K=void 0!==C&&C,D=e.style,W=e.rowClassName,H=e.onRowClick,T=e.pagination,F=void 0!==T&&T,_=e.onPageChange,U=e.prefixCls,q=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["dataSource","columns","rowSelection","getRowKey","size","hasBorder","hasStripe","className","id","simple","style","rowClassName","onRowClick","pagination","onPageChange","prefixCls"]),J=s.useState([]),Q=o(J,2),X=Q[0],$=Q[1],ee=s.useRef(),te=s.useRef(a),ne=l(g),ae=k("table"),re=u("table",U),se=Y(a.length,(function(e){var t;p.crossPage||($([]),null===(t=null==p?void 0:p.onChange)||void 0===t||t.call(p,[],[])),null==_||_(e)}),F),ie=o(se,1)[0];s.useEffect((function(){N(te.current,a)||(te.current=a,$([]),p.onChange&&p.onChange([],[]))}),[a]);var ce,oe,le,ue,de=function(e,t){var n=R(t,"nativeEvent.shiftKey"),a=e.value,r=e.isCheck,s=[a];if(n&&!h(ee.current)){var i=[];if(he()){var c=p.checkMappingKey;i=v(be,(function(e){return R(e,c,"")}))}else i=v(be,(function(e,t){return t}));var o=V(i,R(ee.current,"value")),l=V(i,a);s=P(i,Math.min(o,l),Math.max(o,l)+1)}return ee.current={value:a,isCheck:r},{checkedValues:s,isCheck:r}},me=function(e,t,n,a){var r=[],s=ie.page,i=void 0===s?1:s,c=ie.size,o=(i-1)*(void 0===c?0:c);if(he()){var l=p.checkMappingKey;r=be.filter((function(e){return x(t,R(e,l))}))}else r=be.filter((function(e,n){return x(t,o+n)}));p.onChange&&p.onChange(t,r),p.onSelect&&p.onSelect(e,n,r,a)},he=function(){var e=p.checkMappingKey,t=p.checkedKeys;return e&&t},pe=function(e,t){var a=p.getCheckboxProps,s=p.checkMappingKey,i=p.checkedKeys,c={};a&&(c=a(e,t));var o=he()?x(i,R(e,s)):X.indexOf(t)>-1;return ve(n.createElement(z,r({checked:o,value:t,className:"".concat(re,"-check"),onChange:function(n,a){!function(e,t,n,a){var r,s=[];if(he()){var i=p.checkMappingKey,c=R(e,i);r=de({value:c,isCheck:n},a)}else r=de({value:t,isCheck:n},a);var o=r.checkedValues;s=r.isCheck?I(A(X,o)):j(X,o);var l=a.nativeEvent;$(s),me(e,s,r.isCheck,l)}(e,t,!!n,a)}},c)))},ve=function(e){var t=p.width,a=L(t);return n.createElement("div",{className:d({"fixed-width-cell-content":a}),onClick:function(e){return e.stopPropagation()},style:{width:a?ge(t):void 0}},e)},fe=function(){if(he()){var e=p.checkedKeys,t=p.checkMappingKey,n=v(be,(function(e){return R(e,t)}));return!O(be)&&O(j(n,e))}if(!1===F||!1===p.crossPage)return!O(be)&&be.length===X.length;var a=ie.page,r=void 0===a?1:a,s=ie.size,i=void 0===s?0:s,c=(r-1)*i,o=B(c,c+i);return!O(be)&&O(j(o,X))},ge=function(e){if(!e)return 0;var t=e-2*Z[ne||"default"]-(y?2:0);return t>0?t:0},ye=function(e,t){return L(t)?n.createElement("div",{className:"fixed-width-cell-content",style:{width:ge(t)}},e):e},be=s.useMemo((function(){if(!1===F||!(null==ie?void 0:ie.size))return a;var e=ie.page,t=void 0===e?1:e,n=ie.count,r=ie.size,s=void 0===r?10:r;return a.length<n?a.length>s?a.slice((t-1)*s,t*s):a:a.slice((t-1)*s,t*s)}),[!!F,a,ie&&ie.size,ie&&ie.page,ie&&ie.count]),we=n.createElement("div",r({className:d(re,"size-".concat(ne),"".concat(re,"-css-var"),w,null==ae?void 0:ae.className,{striped:b,bordered:y,simple:K}),id:E,style:Object.assign(Object.assign({},null==ae?void 0:ae.style),D)},q),n.createElement("table",null,n.createElement("thead",null,n.createElement("tr",null,!O(p)&&n.createElement("th",{style:{width:p.width}},(ce=function(e,t){var n=[],a=he(),r=p.checkMappingKey,s=ie.page,i=void 0===s?1:s,c=ie.size,o=(i-1)*(void 0===c?0:c);if(e)n=v(be,a?function(e){return R(e,r,"")}:function(e,t){return o+t}),p.crossPage&&(n=Array.from(new Set(n.concat(X))));else if(p.crossPage){var l;l=v(be,a?function(e){return R(e,r,"")}:function(e,t){return o+t}),n=S.apply(void 0,[P(X,0)].concat(M(l)))}var u=t.nativeEvent;$(n),me({},n,!!e,u)},oe=fe(),le=n.createElement(z,{checked:oe,value:"all",className:"".concat(re,"-check"),onChange:ce}),p.renderCheckAll&&(le=p.renderCheckAll(oe,ce)),ve(le))),c.map((function(e,t){var a=e.width,r=e.title;return n.createElement("th",{key:t,style:{width:a}},ye(r,a))})),n.createElement("th",{className:"patch-cell"}))),n.createElement("tbody",null,be.map((function(e,t){var a,r=ie.page,s=void 0===r?1:r,i=ie.size,o=(s-1)*(void 0===i?0:i),l=o+t;return f&&(l=f(e)),n.createElement("tr",{key:l,onClick:function(){return function(e,t){H&&H(e,t)}(e,o+t)},className:(a=l,d("function"==typeof W?W(a):W))},!O(p)&&n.createElement("td",{style:{width:p.width}},pe(e,o+t)),c.map((function(a,r){var s=a.width;return n.createElement("td",{key:r,style:{width:s}},ye(function(e,t,n,a){return e.render?e.render(t[e.key],t,n,a):t[e.key]}(a,e,o+t,r),s))})),n.createElement("td",{className:"patch-cell"}))})))));if(!1!==F&&(null==ie?void 0:ie.count)){var Ee;Ee=ie.controlSize?ie.controlSize:"small"===ne||"default"===ne?"small":void 0;var Ce=function(e){return n.createElement(G,r({},ie,{className:d("".concat(re,"-pagination ").concat(re,"-pagination-").concat(e),ie.className),controlSize:Ee}))},ke=ie.position;ue=Ce(ke?ke.toLowerCase().replace("bottom",""):"right")}var Ne=u("pagination");return F?n.createElement("div",{className:"".concat(Ne,"-table")},we,ue):we};class ee{constructor(e,n){t(this,"watermarkId"),t(this,"nodeAttrChangeListener",null),t(this,"nodeRemoveListener",null),this.watermarkId=this.genRandomId("server-watermark"),this.createWatermarkDom(e,n)}createWatermarkDom(e,t){const n=this.createWatermarkElement(e,t);n.id=this.watermarkId,e.appendChild(n),this.registerNodeAttrChangeListener(n),this.registerNodeRemoveListener(e,t)}createMutationObserver(e){const{MutationObserver:t}=window;return new t(e)}registerNodeAttrChangeListener(e){this.nodeAttrChangeListener=this.createMutationObserver((t=>{t.forEach((t=>{var n;"attributes"!==t.type&&"characterData"!==t.type||(null==(n=e.parentNode)||n.removeChild(e),this.removeNodeAttrChangeListener())}))})),this.nodeAttrChangeListener.observe(e,{attributes:!0,characterData:!0,subtree:!0})}removeNodeAttrChangeListener(){var e;null==(e=this.nodeAttrChangeListener)||e.disconnect()}registerNodeRemoveListener(e,t){this.nodeRemoveListener=this.createMutationObserver((()=>{document.getElementById(this.watermarkId)||(this.removeNodeRemoveListener(),this.createWatermarkDom(e,t))})),this.nodeRemoveListener.observe(e,{childList:!0})}removeNodeRemoveListener(){var e;null==(e=this.nodeRemoveListener)||e.disconnect()}destroy(e){const t=document.getElementById(this.watermarkId);this.removeNodeRemoveListener(),this.removeNodeAttrChangeListener(),t&&e&&e.removeChild(t)}encrypt(e){return window.btoa(decodeURI(encodeURIComponent(e)))}genRandomId(e=""){return"".concat(this.encrypt(e),"-").concat((new Date).getTime(),"-").concat(Math.floor(Math.random()*Math.pow(10,8)))}}class te extends ee{createWatermarkElement(e,t){const n=document.createElement("div");return n.id=this.watermarkId,n.style.position="fixed",n.style.right="20px",n.style.bottom="30px",n.style.backgroundColor="rgba(67, 86, 255, 0.5)",n.style.color="white",n.style.textAlign="center",n.style.fontSize="26px",n.style.lineHeight="60px",n.style.borderRadius="4px",n.style.padding="0 10px",n.style.zIndex="999999",n.style.pointerEvents="none",n.textContent=t.text,n}}class ne extends ee{constructor(){super(...arguments),t(this,"resizeHandlerRemoval",null),t(this,"offscreenCanvas",document.createElement("canvas"))}createWatermarkDom(e,t){super.createWatermarkDom(e,t);const n=document.getElementById(this.watermarkId);this.setupResizeHandler(e,n,t)}createWatermarkElement(e,t){const n=document.createElement("canvas");return n.setAttribute("style","position: absolute; z-index: 999; top: 0px; left: 0px; pointer-events: none;"),n.width=e.clientWidth,n.height=e.clientHeight,this.offscreenCanvas=this.offscreenCanvas||document.createElement("canvas"),H(n,this.offscreenCanvas,t),n}destroy(e){super.destroy(e),this.resizeHandlerRemoval&&this.resizeHandlerRemoval()}setupResizeHandler(e,t,n){let a=null;const r=T({delay:500},(()=>{const r=t.getContext("2d");null==r||r.clearRect(0,0,t.width,t.height),t.width=e.clientWidth,t.height=e.clientHeight,null!==a&&cancelAnimationFrame(a),a=requestAnimationFrame((()=>{H(t,this.offscreenCanvas,n)}))}));window.addEventListener("resize",r),this.resizeHandlerRemoval=()=>{window.removeEventListener("resize",r),null!==a&&cancelAnimationFrame(a)}}}function ae({ref:e,watermarkData:t}){const n=s.useRef(null);s.useEffect((()=>{const a=K(e);if(!a)return;const r=n.current;r&&(r.destroy(a),n.current=null),t&&t.text&&(n.current=new ne(a,t))}),[e,t])}function re({target:e,withLic:t}){const{t:n}=F(),a=s.useRef(null);s.useEffect((()=>{const r=a.current;if(r&&(r.destroy(e),a.current=null),!t){const t=n("Duchamp-Using_Unregistered_Function_Tip",n("Duchamp-Fvs_Big_Screen"));a.current=new te(e,{text:t})}}),[t,n,e])}function se(...[e,t,n,a]){const{target:r}=_();return D(e,((e,n)=>{W(r)||t(e,n)}),n,a)}export{$ as T,ae as a,re as b,se as u};
